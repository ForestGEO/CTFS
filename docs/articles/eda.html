<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Exploratory Data Analysis • forestr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">forestr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/forestgeo/forestr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Exploratory Data Analysis</h1>
                        <h4 class="author">Mauro Lepore</h4>
            
            <h4 class="date">2017-06-16</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h3>
<p>This vignette will show you how to explore your data systematically, using visualization and transformation. The goal is to use your data and some research questions to learn something that you can then use to refine your questions. You should repeat the process until you are happy with what you learned.</p>
<p>We will use data from Barro Colorado Island (DOI: <a href="https://doi.org/10.5479/data.bci.20130603" class="uri">https://doi.org/10.5479/data.bci.20130603</a>), and functions from the packages <strong><a href="https://forestgeo.github.io/forestr/">forestr</a></strong>, <strong><a href="http://dplyr.tidyverse.org/">dplyr</a></strong> and <strong><a href="http://ggplot2.tidyverse.org/">ggplot2</a></strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># To install packages see ?install.packages and ?devtools::install_github</span>
<span class="kw">library</span>(bci)  <span class="co"># to access data of forest dynamics from BCI</span>
<span class="kw">library</span>(forestr)  <span class="co"># to analyse forest dynamics</span>
<span class="kw">library</span>(ggplot2)  <span class="co"># to visualize data</span>
<span class="kw">library</span>(dplyr)  <span class="co"># to transform data</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw">library</span>(tibble)  <span class="co"># to handle large data easier</span></code></pre></div>
<div id="r-for-data-science" class="section level4">
<h4 class="hasAnchor">
<a href="#r-for-data-science" class="anchor"></a>R for Data Science</h4>
<p>The ideas presented here come from <a href="http://r4ds.had.co.nz/exploratory-data-analysis.html">Exploratory Data Analysis</a>, in <a href="http://r4ds.had.co.nz/">R for Data Science</a>, by Garrett Grolemund and Hadley Wickham. Some text from that book section is literally reproduced here <em>like this</em> or</p>
<blockquote>
<p>like this,</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">but not like <span class="kw">this</span> (compared to the text above, this one has different indentation and fonttype).</code></pre></div>
<p>For example, the following definitions are literally reproduced:</p>
<blockquote>
<p>A <strong>variable</strong> is a quantity, quality, or property that you can measure.</p>
</blockquote>
<blockquote>
<p>A <strong>value</strong> is the state of a variable when you measure it. The value of a variable may change from measurement to measurement.</p>
</blockquote>
<blockquote>
<p>An <strong>observation</strong> is a set of measurements made under similar conditions (you usually make all of the measurements in an observation at the same time and on the same object). An observation will contain several values, each associated with a different variable. I’ll sometimes refer to an observation as a data point.</p>
</blockquote>
<blockquote>
<p><strong>Tabular data</strong> is a set of values, each associated with a variable and an observation. Tabular data is <em>tidy</em> if each value is placed in its own “cell”, each variable in its own column, and each observation in its own row.</p>
</blockquote>
</div>
</div>
<div id="questions" class="section level3">
<h3 class="hasAnchor">
<a href="#questions" class="anchor"></a>Questions</h3>
<p>To start exploring your data, you can generally ask:</p>
<blockquote>
<p>What type of variation occurs within my variables?</p>
</blockquote>
<blockquote>
<p>What type of covariation occurs between my variables?</p>
</blockquote>
</div>
<div id="variation" class="section level3">
<h3 class="hasAnchor">
<a href="#variation" class="anchor"></a>Variation</h3>
<blockquote>
<p><strong>Variation</strong> is the tendency of the values of a variable to change from measurement to measurement.</p>
</blockquote>
<p>Every variable varies with a particular pattern, and that pattern may be insightful. To understand the variation pattern of a variable we can visualize the distribution of the variables’ values. The best way to visualize a variable’s distribution depends on whether the variable is categorical or continuous.</p>
<p>The BCI data has both, categorical and continuous variables, for example, most variables of type <chr> (character) and <dbl> below.</dbl></chr></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">seven &lt;-<span class="st"> </span>bci12full7  <span class="co"># give the data a clearer and more memorable name</span>

<span class="co"># Tibbles print better than dataframes</span>
seven &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(seven)
seven
<span class="co">#&gt; # A tibble: 394,658 x 20</span>
<span class="co">#&gt;    treeID stemID    tag StemTag     sp quadrat    gx    gy MeasureID</span>
<span class="co">#&gt;  *  &lt;int&gt;  &lt;int&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;int&gt;</span>
<span class="co">#&gt;  1      1     NA -05599    &lt;NA&gt; swars1    4007 800.2 152.2        NA</span>
<span class="co">#&gt;  2      2     NA -22851    &lt;NA&gt; hybapr    0718 151.5 378.8        NA</span>
<span class="co">#&gt;  3      3     NA -24362    &lt;NA&gt; aegipa    0417  95.2 357.5        NA</span>
<span class="co">#&gt;  4      4     NA -26589    &lt;NA&gt; beilpe    0007  11.7 151.1        NA</span>
<span class="co">#&gt;  5      5     NA -26590    &lt;NA&gt; faraoc    0004   7.7  96.2        NA</span>
<span class="co">#&gt;  6      6     NA -26703    &lt;NA&gt; hybapr    0210  50.1 215.4        NA</span>
<span class="co">#&gt;  7      7     NA -26746    &lt;NA&gt; tet2pa    0218  58.5 364.7        NA</span>
<span class="co">#&gt;  8      8     NA -27125    &lt;NA&gt; des2pa    0613 139.8 267.1        NA</span>
<span class="co">#&gt;  9      9     NA -27298    &lt;NA&gt; crotbi    0704 157.8  86.4        NA</span>
<span class="co">#&gt; 10     10     NA -27784    &lt;NA&gt; alsebl            NA    NA        NA</span>
<span class="co">#&gt; # ... with 394,648 more rows, and 11 more variables: CensusID &lt;int&gt;,</span>
<span class="co">#&gt; #   dbh &lt;dbl&gt;, pom &lt;chr&gt;, hom &lt;dbl&gt;, ExactDate &lt;chr&gt;, DFstatus &lt;chr&gt;,</span>
<span class="co">#&gt; #   codes &lt;chr&gt;, nostems &lt;dbl&gt;, date &lt;dbl&gt;, status &lt;chr&gt;, agb &lt;dbl&gt;</span>
<span class="co"># Another view; like str() but shows as much data as possible</span>
<span class="kw">glimpse</span>(seven)
<span class="co">#&gt; Observations: 394,658</span>
<span class="co">#&gt; Variables: 20</span>
<span class="co">#&gt; $ treeID    &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1...</span>
<span class="co">#&gt; $ stemID    &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ tag       &lt;chr&gt; "-05599", "-22851", "-24362", "-26589", "-26590", "-...</span>
<span class="co">#&gt; $ StemTag   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ sp        &lt;chr&gt; "swars1", "hybapr", "aegipa", "beilpe", "faraoc", "h...</span>
<span class="co">#&gt; $ quadrat   &lt;chr&gt; "4007", "0718", "0417", "0007", "0004", "0210", "021...</span>
<span class="co">#&gt; $ gx        &lt;dbl&gt; 800.2, 151.5, 95.2, 11.7, 7.7, 50.1, 58.5, 139.8, 15...</span>
<span class="co">#&gt; $ gy        &lt;dbl&gt; 152.2, 378.8, 357.5, 151.1, 96.2, 215.4, 364.7, 267....</span>
<span class="co">#&gt; $ MeasureID &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ CensusID  &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ dbh       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ pom       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ hom       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ ExactDate &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ DFstatus  &lt;chr&gt; "dead", "dead", "dead", "dead", "dead", "dead", "dea...</span>
<span class="co">#&gt; $ codes     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ nostems   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ...</span>
<span class="co">#&gt; $ date      &lt;dbl&gt; 18465.07, 18329.00, 18316.05, 18295.61, 18288.57, 18...</span>
<span class="co">#&gt; $ status    &lt;chr&gt; "D", "D", "D", "D", "D", "D", "D", "D", "D", "M", "D...</span>
<span class="co">#&gt; $ agb       &lt;dbl&gt; 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.000000...</span></code></pre></div>
<div id="working-with-dates" class="section level4">
<h4 class="hasAnchor">
<a href="#working-with-dates" class="anchor"></a>Working with dates</h4>
<p>xxx replace data for some that is easier to work with.</p>
<p><strong>xxx maybe move this subsection for after the eda has been covered with easier-to-work data. Here, I may choose another variable to work with, e.g. dbh. Latter, this section’s purpose would be to show how to deal with dates. For this, I could follow the <code>lubridate</code> section of r4ds.</strong></p>
<p>The variable <code>date</code> is the number of days since 1960-01-01 (see data dictionary at <a href="https://goo.gl/Q6XYrb" class="uri">https://goo.gl/Q6XYrb</a>), but it will be easier to interpret if we convert it to a date-time object (see <code>?lubridate::as_datetime</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(lubridate)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'lubridate'</span>
<span class="co">#&gt; The following object is masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     date</span>

<span class="co"># "Duration" is a useful intermediate; learn more with ?lubridate::duration</span>
<span class="co"># %/%: integere diviison removes useless and annoying fraction of seconds.</span>
seven &lt;-<span class="st"> </span><span class="kw">mutate</span>(seven, <span class="dt">duration =</span> <span class="kw">dseconds</span>((date *<span class="st"> </span><span class="dv">24</span> *<span class="st"> </span><span class="dv">60</span> *<span class="st"> </span><span class="dv">60</span>) %/%<span class="st"> </span><span class="dv">1</span>))
seven &lt;-<span class="st"> </span><span class="kw">mutate</span>(seven, <span class="dt">datetime =</span> <span class="kw">as_datetime</span>(duration, <span class="dt">origin =</span> <span class="st">"1960-01-01"</span>))
seven %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, datetime) %&gt;%
<span class="st">  </span><span class="kw">print</span>(<span class="dt">n =</span> <span class="dv">20</span>)  <span class="co"># print some more rows than tibble's default</span>
<span class="co">#&gt; # A tibble: 394,658 x 2</span>
<span class="co">#&gt;        date            datetime</span>
<span class="co">#&gt;       &lt;dbl&gt;              &lt;dttm&gt;</span>
<span class="co">#&gt;  1 18465.07 2010-07-22 01:34:25</span>
<span class="co">#&gt;  2 18329.00 2010-03-08 00:00:00</span>
<span class="co">#&gt;  3 18316.05 2010-02-23 01:05:13</span>
<span class="co">#&gt;  4 18295.61 2010-02-02 14:42:34</span>
<span class="co">#&gt;  5 18288.57 2010-01-26 13:45:13</span>
<span class="co">#&gt;  6 18300.45 2010-02-07 10:48:56</span>
<span class="co">#&gt;  7 18319.00 2010-02-26 00:00:00</span>
<span class="co">#&gt;  8 18305.93 2010-02-12 22:16:49</span>
<span class="co">#&gt;  9 18292.02 2010-01-30 00:28:47</span>
<span class="co">#&gt; 10       NA                  NA</span>
<span class="co">#&gt; 11 18349.44 2010-03-28 10:27:05</span>
<span class="co">#&gt; 12 18358.00 2010-04-06 00:00:00</span>
<span class="co">#&gt; 13 18401.11 2010-05-19 02:32:24</span>
<span class="co">#&gt; 14 18386.51 2010-05-04 12:19:06</span>
<span class="co">#&gt; 15 18390.09 2010-05-08 02:13:00</span>
<span class="co">#&gt; 16 18393.11 2010-05-11 02:36:49</span>
<span class="co">#&gt; 17 18362.29 2010-04-10 07:01:07</span>
<span class="co">#&gt; 18 18528.81 2010-09-23 19:25:19</span>
<span class="co">#&gt; 19 18518.00 2010-09-13 00:00:00</span>
<span class="co">#&gt; 20 18528.81 2010-09-23 19:25:19</span>
<span class="co">#&gt; # ... with 3.946e+05 more rows</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">seven$date &lt;-<span class="st"> </span>lubridate::<span class="kw">as_date</span>(seven$date, <span class="dt">origin =</span> <span class="st">"1960-01-01"</span>)
seven %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">glimpse</span>()
<span class="co">#&gt; Observations: 394,658</span>
<span class="co">#&gt; Variables: 1</span>
<span class="co">#&gt; $ date &lt;date&gt; 2010-07-22, 2010-03-08, 2010-02-23, 2010-02-02, 2010-01-...</span></code></pre></div>
</div>
<div id="visualizing-distributions" class="section level4">
<h4 class="hasAnchor">
<a href="#visualizing-distributions" class="anchor"></a>Visualizing distributions</h4>
<div id="categorical-variables" class="section level5">
<h5 class="hasAnchor">
<a href="#categorical-variables" class="anchor"></a>Categorical variables</h5>
<blockquote>
<p>A variable is categorical if it can only take one of a small set of values.</p>
</blockquote>
<blockquote>
<p>To examine the distribution of a categorical variable, use a bar chart.</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(seven) +
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> DFstatus))</code></pre></div>
<div class="figure">
<img src="eda_files/figure-html/unnamed-chunk-4-1.png" alt="Values distribution of the categorical variable `status`" width="672"><p class="caption">
Values distribution of the categorical variable <code>status</code>
</p>
</div>
<p>You can compute the same count manually with <code>dplyr::count()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">count</span>(seven, DFstatus)
<span class="co">#&gt; # A tibble: 3 x 2</span>
<span class="co">#&gt;    DFstatus      n</span>
<span class="co">#&gt;       &lt;chr&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1     alive 221758</span>
<span class="co">#&gt; 2      dead 172848</span>
<span class="co">#&gt; 3 no_record     52</span></code></pre></div>
</div>
<div id="continuous-variables" class="section level5">
<h5 class="hasAnchor">
<a href="#continuous-variables" class="anchor"></a>Continuous variables</h5>
<blockquote>
<p>A variable is continuous if it can take any of an infinite set of ordered values.</p>
</blockquote>
<blockquote>
<p>To examine the distribution of a continuous variable use a histogram.</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">barwidth &lt;-<span class="st"> </span><span class="dv">10</span>  <span class="co"># set once, then use multiple times</span>

<span class="kw">ggplot</span>(seven) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date), <span class="dt">binwidth =</span> barwidth)
<span class="co">#&gt; Warning: Removed 52 rows containing non-finite values (stat_bin).</span></code></pre></div>
<p><img src="eda_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>You can compute the same count manually, by cutting the variable with <code>ggplot2::cut_width()</code> and then counting the unique pieces with <code>dplyr::count()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">seven %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">cut_width</span>(date, <span class="dt">width =</span> barwidth)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(date) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">tail</span>()
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;            date     n</span>
<span class="co">#&gt;          &lt;fctr&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1 (14855,14865] 11934</span>
<span class="co">#&gt; 2 (14865,14875]  8984</span>
<span class="co">#&gt; 3 (14875,14885]  1249</span>
<span class="co">#&gt; 4 (15005,15015]    22</span>
<span class="co">#&gt; 5 (15055,15065]    11</span>
<span class="co">#&gt; 6            NA    52</span></code></pre></div>
<p>The 52 <code>NA</code> indicate dates where no trees where recorded (notice <code>DF status</code> = <code>"no_record"</code> on the bar chart above). The same we see from a histogram with narrower bars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(seven) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date), <span class="dt">binwidth =</span> <span class="dv">1</span>)
<span class="co">#&gt; Warning: Removed 52 rows containing non-finite values (stat_bin).</span></code></pre></div>
<p><img src="eda_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<blockquote>
<p>You should always explore a variety of binwidths when working with histograms, as different binwidths can reveal different patterns.</p>
</blockquote>
<p>To overlay multiple histograms in the same plot, <code>geom_freqpoly()</code> may produce clearer plots than <code>geom_histogram()</code> because it is easier to understand overlying lines than bars:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(seven) +
<span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">color =</span> DFstatus), <span class="dt">binwidth =</span> barwidth)
<span class="co">#&gt; Warning: Removed 52 rows containing non-finite values (stat_bin).</span></code></pre></div>
<div class="figure">
<img src="eda_files/figure-html/unnamed-chunk-10-1.png" alt="Lines overlaid are easier to understand than bars." width="672"><p class="caption">
Lines overlaid are easier to understand than bars.
</p>
</div>
</div>
</div>
<div id="typical-values" class="section level4">
<h4 class="hasAnchor">
<a href="#typical-values" class="anchor"></a>Typical values</h4>
<p>In both bar charts and histograms, tall and short bars let us explore common and less-common values. Now we can ask:</p>
<blockquote>
<ul>
<li>Which values are the most common? Why?</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Which values are rare? Why? Does that match your expectations?</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Can you see any unusual patterns? What might explain them?</li>
</ul>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(seven) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dbh), <span class="dt">binwidth =</span> <span class="dv">50</span>)
<span class="co">#&gt; Warning: Removed 187399 rows containing non-finite values (stat_bin).</span></code></pre></div>
<p><img src="eda_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<p>xxxcont.</p>
</div>
</div>
<div id="leftovers" class="section level1">
<h1 class="hasAnchor">
<a href="#leftovers" class="anchor"></a>Leftovers</h1>
<div id="skimr" class="section level2">
<h2 class="hasAnchor">
<a href="#skimr" class="anchor"></a>skimr</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(skimr)  <span class="co"># xxx remove or declare in DESCRIPTION in Suggest:</span>
<span class="kw">skim</span>(seven) %&gt;%<span class="st"> </span><span class="kw">filter</span>(stat ==<span class="st"> "hist"</span>) %&gt;%<span class="st"> </span><span class="kw">as.matrix</span>()
<span class="co">#&gt; Warning: Skim does not know how to summarize of vector of class: Duration.</span>
<span class="co">#&gt; Coercing to numeric</span>
<span class="co">#&gt;       var         type      stat   level        value</span>
<span class="co">#&gt;  [1,] "treeID"    "integer" "hist" "&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2585&gt;&lt;U+2581&gt;&lt;U+2585&gt;" "0"  </span>
<span class="co">#&gt;  [2,] "stemID"    "integer" "hist" "&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt;  [3,] "gx"        "numeric" "hist" "&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;" "0"  </span>
<span class="co">#&gt;  [4,] "gy"        "numeric" "hist" "&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;" "0"  </span>
<span class="co">#&gt;  [5,] "MeasureID" "integer" "hist" "&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;" "0"  </span>
<span class="co">#&gt;  [6,] "CensusID"  "integer" "hist" "&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt;  [7,] "dbh"       "numeric" "hist" "&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt;  [8,] "hom"       "numeric" "hist" "&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt;  [9,] "nostems"   "numeric" "hist" "&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt; [10,] "agb"       "numeric" "hist" "&lt;U+2587&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"  </span>
<span class="co">#&gt; [11,] "duration"  "numeric" "hist" "&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2587&gt;&lt;U+2586&gt;&lt;U+2583&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;&lt;U+2581&gt;" "0"</span></code></pre></div>
<p>To do all of the above quickly, we can use package <strong>skimr</strong> (<a href="https://github.com/ropenscilabs/skimr" class="uri">https://github.com/ropenscilabs/skimr</a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(skimr)
smry &lt;-<span class="st"> </span><span class="kw">skim</span>(diamonds)
smry %&gt;%<span class="st"> </span>
<span class="st">  </span>dplyr::<span class="kw">filter</span>(stat ==<span class="st"> "hist"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">as.matrix</span>()  <span class="co"># Only needed in Windows for histograms (https://goo.gl/S8MaZW)</span></code></pre></div>
</div>
<div id="tibble-conflicts" class="section level2">
<h2 class="hasAnchor">
<a href="#tibble-conflicts" class="anchor"></a>tibble conflicts</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># xxx turn this off because the data type changes</span>
<span class="co"># Handle and print large data nicely *xxx</span>
<span class="co"># library(tibble)</span>
<span class="co"># bci12full7 &lt;- tibble::as_tibble(bci12full7)</span>
<span class="co"># *xxx Note: If you get this error message:</span>
<span class="co"># "Can't use matrix or array for column indexing"</span>
<span class="co"># watch for problematic interaction with legacy code (https://goo.gl/g7rg2P)</span>
<span class="co"># and try solve it by with as.data.frame().</span></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#leftovers">Leftovers</a><ul class="nav nav-pills nav-stacked">
<li><a href="#skimr">skimr</a></li>
      <li><a href="#tibble-conflicts">tibble conflicts</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao, Kyle Harms, Mauro Lepore, CTFS-ForestGEO.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
