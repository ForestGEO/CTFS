<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>coldata.to.imagemat — coldata.to.imagemat â€¢ ctfs</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ctfs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>coldata.to.imagemat</h1>
    </div>

    
    <p>These functions create maps of response variables using the R functions contour, image, and filled.contour. Those functions are
powerful and do the difficult work, but they are a bit tricky to learn and have many options. If you are expert with those 3 R functions,
the functions below will not be especially useful. They simply rearrange various types of data into the correct format.</p>

    <p>The first, coldata.to.imagemat, converts a vector of response variables and converts it into a matrix of the correct form for use by contour, image,
and filled.contour. There must be one value of the response z for every position in a grid overlain on the map. In the case of CTFS Plots,
this means a value for z at every quadrat, though quadrat can be any size.  The function abundanceperquad (abundance.r) produces 
exactly the correct kind of vector for use by coldata.to.imagemat. The function gxgy.to.index (quadfunc.r) produces quadrat numbers that  
are the correct vector for use by coldata.to.imagemat.</p>

    <p>For example, consider a 50 ha plot of 1000 x 500 meters. If gridsize=20, the standard quadrat, then there are 50 columns x 25 rows in the plot.
In that case, the length of vector z must be exactly 1250, length(x) must be exactly 50, and length(y) exactly 25. Alternatively, x and y can be set
NULL and it will be calculated from plotmax=c(1000,500) and plotmin=c(0,0). The simplest application of this function for CTFS plots is to
set x and y NULL, and plotmax to the correct plot dimensions. Then make sure z is the right size for the number of quadrats.</p>

    <p>The common error with image and contour maps is getting the proper dimensions for z and the proper sizes for plotmax, x, and y. If you get an error
data length is not a sub-multiple or multiple of the number of rows&#39;then one of those inputs is wrong. 
Return value is a list designed to match exactly the format of the RGDAL raster object. It has components</p>
    

    <pre><span class='fu'>coldata.to.imagemat</span>(<span class='no'>z</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>plotmin</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>,
  <span class='fl'>0</span>), <span class='kw'>plotmax</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1000</span>, <span class='fl'>500</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>z</dt>
      <dd>exactly as submitted;</dd>
      <dt>x</dt>
      <dd>same as the argument x; if x is submitted as NULL, this is the vector calculated by using plotmax;</dd>
      <dt>y</dt>
      <dd>likewise for y;</dd>
      <dt>gridsize</dt>
      <dd>Size of quadrats into which the map is divided; must be square quadrats. This cannot be NULL.</dd>
      <dt>plotmin</dt>
      <dd>The minimum plot x and y coordinates; in CTFS plots, these are always 0,0. Ignored if x and y are submitted.</dd>
      <dt>plotmax</dt>
      <dd>Maximum plot x and y coordinates. The default, 1000,500, is typical CTFS 50-ha plot. Ignored if x and y are submitted.</dd>
      <dt>columns</dt>
      <dd>number of columns in the grid, same as length(x);</dd>
      <dt>rows</dt>
      <dd>Number of rows in the grid, same as length(y);</dd>
      <dt>mat</dt>
      <dd>The matrix needed for graphing, exactly as needed for instance by imageGraph().</dd>
      <dt>z</dt>
      <dd>A numeric vector of responses, which means an attribute which has map coordinates.</dd>
      <dt>x</dt>
      <dd>The map coordinates of each column in the matrix, and the values with which the x-axis of the map will be numbered.
The number of columns of z, dim(z)[2], must be exactly length(x). If x is NULL, then it is calculated using plotmax.</dd>
      <dt>y</dt>
      <dd>The map coordinates of each row in the matrix, and the values with which the y-axis of the map will be numbered; 
dim(z)[1] must be exactly length(y). If y is NULL, then it is calculated using plotmax.</dd>
    </dl>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Not run: ------------------------------------</span>
<span class='co'># CTFSplot('bci',6,'full')</span>
<span class='co'># BA=abundanceperquad(bci.full6,gridsize=20,plotdim=c(1000,500),type='ba')</span>
<span class='co'># totalBAperquad=colSums(BA$ba)</span>
<span class='co'># summary(totalBAperquad)</span>
<span class='co'># matrixdata=coldata.to.imagemat(z=totalBAperquad,x=NULL,y=NULL,gridsize=20,plotmax=c(1000,500))</span>
<span class='co'># length(totalBAperquad)</span>
<span class='co'># dim(matrixdata$mat)</span>
<span class='co'># length(matrixdata$x)</span>
<span class='co'>## ---------------------------------------------</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
