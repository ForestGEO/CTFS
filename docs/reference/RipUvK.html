<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RipUvK — RipUvK â€¢ ctfs</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ctfs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/forestgeo/ctfs">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>RipUvK</h1>
    </div>

    
    <p>Ripley's K using splancs. Computes the univariate Ripley's K for a list of species (all species at a site
is the default). Also calculates the O-ring statistic, or density (per area) of
conspecifics in a series of annuli defined by rseq, and the omega statistic,
which is O-ring divided by overall density.</p>
<p>Works through all the elements of a split datafile, each of which must have gx, gy
coordinates, a status code, and dbh. This would usually be species, but could
be any other division of the data. RipUvK always performs calculations on each element of the
splitdata list submitted.</p>
<p>If the data have no status field, all records are included. If there is a status field, only "A"
values are included. If mindbh is set to 0, all records are
included and no dbh field is consulted. But if mindbh is set, there must be a dbh field, and records
are excluded if smaller.</p>
<p>The output is a list of 5 components.</p><ul>
<li><p>K is the Ripley's K object produced by the khat function in the splancs package; please see help for that package for details.</p></li>
<li><p>O is the mean density of neighbors in each successive distance interval; it is a list of vectors, one per species, each vector of length matching length of rseq.</p></li>
<li><p>omega is the omega-statistic, or O in each successive distance interval divided the plot-wide density; density is expressed per 10,000 square distance units, which means per hectare if units are meters.</p></li>
<li><p>abund is a vector of species abundances, including individuals used in the calculation.</p></li>
<li><p>midpts is a vector of the same length as rseq, giving the midpoint of each distance interval, for graphing purposes.</p></li>
</ul>
    

    <pre class="usage"><span class='fu'>RipUvK</span>(<span class='no'>splitdata</span>, <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1000</span>, <span class='fl'>500</span>), <span class='kw'>rseq</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>50</span>),
  <span class='kw'>mindbh</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>xcol</span> <span class='kw'>=</span> <span class='st'>"gx"</span>, <span class='kw'>ycol</span> <span class='kw'>=</span> <span class='st'>"gy"</span>, <span class='kw'>debug</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>show</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>splitdata</th>
      <td><p>A complete CTFS plot dataset comprised of a list, each element having a dataframe for one species. There must be columns for x and y coordinates; the names of those two columns are passed as arguments (default is the CTFS standard gx, gy).</p></td>
    </tr>
    <tr>
      <th>plotdim</th>
      <td><p>The x and y dimensions of the plot.</p></td>
    </tr>
    <tr>
      <th>rseq</th>
      <td><p>The distances defining intervals in which Ripley's statistic is calculated.</p></td>
    </tr>
    <tr>
      <th>mindbh</th>
      <td><p>the minimum dbh to include in results.</p></td>
    </tr>
    <tr>
      <th>xcol</th>
      <td><p>and ycol the names of the columns holding x and y coordinates.</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>TRUE or FALSE, calls browser during execution to pause program; only set TRUE to debug.</p></td>
    </tr>
    <tr>
      <th>show</th>
      <td><p>creates a graph to show one omega value for each species, as a way to track progress.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>not_run({
  # If a split database has been created by split_data and stored, CTFSplot
  will load it.
  
  CTFSplot("bci",6,type="split")
  # Otherwise start with a standard R Analytical Table (could be stem also):
  
  CTFSplot("bci",6,type="full")
  bci.split6=split_data(bci.full6)
  # A quick test, run on only the first 10 species:
  rip = RipUvK(
    splitdata = bci.split6[1:10],
    plotdim = c(1000, 500),
    rseq = c(10, 20, 30, 40, 50, 60),
    mindbh = 10,
    xcol = "gx",
    ycol = "gy"
  )
  # All the species (takes several minutes):
  rip = RipUvK(
    splitdata = bci.split6,
    plotdim = c(1000, 500),
    rseq = c(10, 20, 30, 40, 50, 60),
    mindbh = 10,
    xcol = "gx",
    ycol = "gy"
  )
  str(rip$K[[1]])
  plot(rip$midpts,rip$omega[2,],ylim=c(0,10))
  
  # calculate K and the (number of conspecific) individuals for each tree within 
  # distances of rseq
})


</div><div class='output co'>#&gt; <span class='error'>Error: &lt;text&gt;:3:8: unexpected symbol</span>
#&gt; <span class='error'>2:   # If a split database has been created by split_data and stored, CTFSplot</span>
#&gt; <span class='error'>3:   will load</span>
#&gt; <span class='error'>          ^</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao, Kyle Harms, Mauro Lepore, CTFS-ForestGEO.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
