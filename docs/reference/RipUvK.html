<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ripleys K using splancs. — RipUvK • ctfs</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Ripleys K using splancs. — RipUvK" />

<meta property="og:description" content="Ripley's K using splancs. Computes the univariate Ripley's K for a list of
species (all species at a site is the default). Also calculates the O-ring
statistic, or density (per area) of conspecifics in a series of annuli
defined by rseq, and the omega statistic, which is O-ring divided by overall
density.
Works through all the elements of a split datafile, each of which must have
gx, gy coordinates, a status code, and dbh. This would usually be species,
but could be any other division of the data. RipUvK always performs
calculations on each element of the splitdata list submitted.
If the data have no status field, all records are included. If there is a
status field, only &quot;A&quot; values are included. If mindbh is set to 0, all
records are included and no dbh field is consulted. But if mindbh is set,
there must be a dbh field, and records are excluded if smaller.
The output is a list of 5 components.
K is the Ripley's K object produced by the khat function in the splancs
package; please see help for that package for details.
O is the mean density of neighbors in each successive distance interval;
it is a list of vectors, one per species, each vector of length matching
length of rseq.
omega is the omega-statistic, or O in each successive distance interval
divided the plot-wide density; density is expressed per 10,000 square
distance units, which means per hectare if units are meters.
abund is a vector of species abundances, including individuals used in the
calculation.
midpts is a vector of the same length as rseq, giving the midpoint of each
distance interval, for graphing purposes.
" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ctfs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions Index</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/ctfs">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Ripleys K using splancs.</h1>
    
    <div class="hidden name"><code>RipUvK.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Ripley's K using splancs. Computes the univariate Ripley's K for a list of
species (all species at a site is the default). Also calculates the O-ring
statistic, or density (per area) of conspecifics in a series of annuli
defined by rseq, and the omega statistic, which is O-ring divided by overall
density.</p>
<p>Works through all the elements of a split datafile, each of which must have
gx, gy coordinates, a status code, and dbh. This would usually be species,
but could be any other division of the data. RipUvK always performs
calculations on each element of the splitdata list submitted.</p>
<p>If the data have no status field, all records are included. If there is a
status field, only "A" values are included. If mindbh is set to 0, all
records are included and no dbh field is consulted. But if mindbh is set,
there must be a dbh field, and records are excluded if smaller.</p>
<p>The output is a list of 5 components.</p><ul>
<li><p>K is the Ripley's K object produced by the khat function in the splancs
package; please see help for that package for details.</p></li>
<li><p>O is the mean density of neighbors in each successive distance interval;
it is a list of vectors, one per species, each vector of length matching
length of rseq.</p></li>
<li><p>omega is the omega-statistic, or O in each successive distance interval
divided the plot-wide density; density is expressed per 10,000 square
distance units, which means per hectare if units are meters.</p></li>
<li><p>abund is a vector of species abundances, including individuals used in the
calculation.</p></li>
<li><p>midpts is a vector of the same length as rseq, giving the midpoint of each
distance interval, for graphing purposes.</p></li>
</ul>
    
    </div>

    <pre class="usage"><span class='fu'>RipUvK</span>(<span class='no'>splitdata</span>, <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1000</span>, <span class='fl'>500</span>), <span class='kw'>rseq</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>,
  <span class='fl'>50</span>), <span class='kw'>mindbh</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>xcol</span> <span class='kw'>=</span> <span class='st'>"gx"</span>, <span class='kw'>ycol</span> <span class='kw'>=</span> <span class='st'>"gy"</span>, <span class='kw'>debug</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>show</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>splitdata</th>
      <td><p>A complete CTFS plot dataset comprised of a list, each
element having a dataframe for one species. There must be columns for x and
y coordinates; the names of those two columns are passed as arguments
(default is the CTFS standard gx, gy).</p></td>
    </tr>
    <tr>
      <th>plotdim</th>
      <td><p>The x and y dimensions of the plot.</p></td>
    </tr>
    <tr>
      <th>rseq</th>
      <td><p>The distances defining intervals in which Ripley's statistic is
calculated.</p></td>
    </tr>
    <tr>
      <th>mindbh</th>
      <td><p>The minimum diameter above which the counts are done. Trees
smaller than <code>mindbh</code> are excluded. If <code>NULL</code>, all living trees are
included.</p></td>
    </tr>
    <tr>
      <th>xcol, ycol</th>
      <td><p>The names of the columns holding x and y coordinates.</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>Logical. If TRUE, call browser to debug.</p></td>
    </tr>
    <tr>
      <th>show</th>
      <td><p>creates a graph to show one omega value for each species, as a
way to track progress.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"># NOT RUN {
# If a split database has been created by split_data and stored, CTFSplot
will load it.

CTFSplot("bci",6,type="split")
# Otherwise start with a standard R Analytical Table (could be stem also):

CTFSplot("bci",6,type="full")
split6=split_data(bciex::bci12t6mini)
# A quick test, run on only the first 10 species:
rip = RipUvK(
  splitdata = split6[1:10],
  plotdim = c(1000, 500),
  rseq = c(10, 20, 30, 40, 50, 60),
  mindbh = 10,
  xcol = "gx",
  ycol = "gy"
)
# All the species (takes several minutes):
rip = RipUvK(
  splitdata = split6,
  plotdim = c(1000, 500),
  rseq = c(10, 20, 30, 40, 50, 60),
  mindbh = 10,
  xcol = "gx",
  ycol = "gy"
)
str(rip$K[[1]])
plot(rip$midpts,rip$omega[2,],ylim=c(0,10))

# calculate K and the (number of conspecific) individuals for each tree within 
# distances of rseq
# }
<div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

