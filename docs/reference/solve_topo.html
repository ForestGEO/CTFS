<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>This is based on the problem and solution outlined in my book on pl... — solve_topo • ctfs</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="This is based on the problem and solution outlined in my book on pl... — solve_topo" />

<meta property="og:description" content="This is based on the problem and solution outlined in my book on plot methods
(Condit, 1998). Each of N stakes i has an estimated height E[i] and a true
height e[i].
Pairs of stakes have a height difference d[i, j], where
e[i] + d[i, j] = e[j], but only estimated height differences D[i, j] are
known.
The least-squares estimate E[i] of e[i] can be written as the mean of the
n[i] points j for which D[i, j] was measured:
E[i] = mean(E[j] - D[i, j]) =
(1 / n[i]) * sum(E[j]) - (1 / n[i]) * sum(D[i, j]), and
n[i] * E[i] - sum(E[j]) = -sum(D[i, j]).
The latter produces N equations in N unknowns, but they are exactly singular.
One of the points must be assigned a value, and it's easiest to set
e[1] = 0.
The effect is to exclude the equation for i = 0, but all j for which
D[0, j] was measured have unchanged equations (D[0, j] are included).
The equations are written in matrix form. The coefficients are a matrix M
whose diagonal elements are the n[i], so M[i, i] = n[i] for all i.
All other entries are -1 where D[i, j] was measured otherwise zero.
The estimated E[i] are a vector, and the vector V[i] = -sum(D[i, j]),
where the summation is over j only. Then M *PERCENT* E = V, Minv is the
inverse of M, and E = Minv *PERCENT* V." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ctfs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions Index</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/ctfs">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>This is based on the problem and solution outlined in my book on pl...</h1>
    
    <div class="hidden name"><code>solve_topo.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This is based on the problem and solution outlined in my book on plot methods
(Condit, 1998). Each of N stakes i has an estimated height <code>E[i]</code> and a true
height <code>e[i]</code>.
Pairs of stakes have a height difference <code>d[i, j]</code>, where
<code>e[i] + d[i, j] = e[j]</code>, but only estimated height differences <code>D[i, j]</code> are
known.
The least-squares estimate <code>E[i]</code> of <code>e[i]</code> can be written as the mean of the
<code>n[i]</code> points j for which <code>D[i, j]</code> was measured:
<code>E[i] = mean(E[j] - D[i, j]) =</code>
<code>(1 / n[i]) * sum(E[j]) - (1 / n[i]) * sum(D[i, j])</code>, and
<code>n[i] * E[i] - sum(E[j]) = -sum(D[i, j])</code>.
The latter produces N equations in N unknowns, but they are exactly singular.
One of the points must be assigned a value, and it's easiest to set
<code>e[1] = 0</code>.
The effect is to exclude the equation for <code>i = 0</code>, but all j for which
<code>D[0, j]</code> was measured have unchanged equations (<code>D[0, j]</code> are included).
The equations are written in matrix form. The coefficients are a matrix M
whose diagonal elements are the <code>n[i]</code>, so <code>M[i, i] = n[i]</code> for all i.
All other entries are <code>-1</code> where <code>D[i, j]</code> was measured otherwise zero.
The estimated <code>E[i]</code> are a vector, and the vector <code>V[i] = -sum(D[i, j])</code>,
where the summation is over j only. Then <code>M *PERCENT* E = V</code>, <code>Minv</code> is the
inverse of M, and <code>E = Minv *PERCENT* V</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>solve_topo</span>(<span class='no'>coldata</span>, <span class='kw'>column1</span> <span class='kw'>=</span> <span class='st'>"pt1"</span>, <span class='kw'>column2</span> <span class='kw'>=</span> <span class='st'>"pt2"</span>,
  <span class='kw'>diffcolumn</span> <span class='kw'>=</span> <span class='st'>"htdiff"</span>, <span class='kw'>basept</span> <span class='kw'>=</span> <span class='st'>"1"</span>, <span class='kw'>baseelev</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>debug</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>debug</th>
      <td><p>Logical. If TRUE, call browser to debug.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In theory, the program will accept duplicate measures of the same pair of
plots. They are treated as replicates with equal weight to all other
estimates. There would be -2 or -3 etc. off the diagonal. The data are in
columns. One column has the label of one stake (column header pt1), the
second has the label of the second stake (column header pt2), and the final
column has the height difference at pt2 minus pt1 (column header diff). The
point labelled basept is assigned elevation baseelev. The last 5 arguments
allow those column headers to be reassigned.</p>
<p>The name solve.topo clashed with an S3 method, so it was replaced by
solve_topo.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"># NOT RUN {
# See topography tutorial
# }
<div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

