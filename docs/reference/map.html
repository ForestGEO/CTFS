<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>map — map â€¢ ctfs</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ctfs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/forestgeo/ctfs">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>map</h1>
    </div>

    
    <p>Function to draw map of one or more species from one plot. Must give the
complete plot dataset, in split format (list of one dataframe per species),
and one or more species code. Other arguments are optional, however, many
defaults can be adjusted to get a good map on the screen or exported. This
calls the functions maptopo() and map1species() for the actual mapping.</p>
<p>A common problem is graph size, leading to an error message "Plot region too
large". This happens if the export="no" option is used with the option
plotside too large for the default graph size (usually 7 inches). If you use
the option export="Windows", "Mac", or "Unix", then height and width can be
set with arguments ht, wd, and plotside can be as large as you please.</p>
    

    <pre class="usage"><span class='fu'>map</span>(<span class='no'>splitdatafile</span>, <span class='no'>species</span>, <span class='kw'>spplist</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1000</span>, <span class='fl'>500</span>),
  <span class='kw'>xrange</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='no'>plotdim</span>[<span class='fl'>1</span>]), <span class='kw'>yrange</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>, <span class='no'>plotdim</span>[<span class='fl'>2</span>]), <span class='kw'>elevdata</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cutoff</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>10</span>, <span class='fl'>100</span>, <span class='fl'>300</span>, <span class='fl'>3000</span>), <span class='kw'>size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>deadtree</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>maintitle</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>titlepos</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>plotdim</span>[<span class='fl'>1</span>]/<span class='fl'>2</span>, <span class='fl'>1.32</span> * <span class='no'>plotdim</span>[<span class='fl'>2</span>]),
  <span class='kw'>clrs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bw</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>bgcolor</span> <span class='kw'>=</span> <span class='st'>"white"</span>, <span class='kw'>symbols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xaxis</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>yaxis</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>addlegend</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>legpos</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>plotdim</span>[<span class='fl'>1</span>]/<span class='fl'>2</span>,
  <span class='fl'>1.16</span> * <span class='no'>plotdim</span>[<span class='fl'>2</span>]), <span class='kw'>legsize</span> <span class='kw'>=</span> <span class='fl'>0.75</span>, <span class='kw'>labsize</span> <span class='kw'>=</span> <span class='fl'>1.15</span>, <span class='kw'>axisdiv</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>bty</span> <span class='kw'>=</span> <span class='st'>"n"</span>, <span class='kw'>ht</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>wd</span> <span class='kw'>=</span> <span class='fl'>9</span>, <span class='kw'>plotside</span> <span class='kw'>=</span> <span class='fl'>6</span>, <span class='kw'>axspos</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>topoclr</span> <span class='kw'>=</span> <span class='st'>"gray80"</span>, <span class='kw'>topoint</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>export</span> <span class='kw'>=</span> <span class='st'>"no"</span>, <span class='kw'>filepath</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>outfile</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>splitdatafile</th>
      <td><p>A full plot dataset in list format (see <code>?split_data</code>)</p></td>
    </tr>
    <tr>
      <th>species</th>
      <td><p>One or more species codes to be mapped.</p></td>
    </tr>
    <tr>
      <th>spplist</th>
      <td><p>A table with species codes and Latin names can be submitted as well, so that the full genus-species is added to plot. This must have species codes as row names. It should be the CTFS R format species table (eg, bci.spptable).</p></td>
    </tr>
    <tr>
      <th>plotdim</th>
      <td><p>The x and y dimensions of the plot. This is used often in R package. Note it assumes the starting coordinates are zero. If they are not, then xrange and yrange must be used.</p></td>
    </tr>
    <tr>
      <th>xrange</th>
      <td><p>and yrange Minimum and maximum x coordinates and y coordinates to map. Allows a portion of plot to be drawn. Defaults to the entire plot.</p></td>
    </tr>
    <tr>
      <th>elevdata</th>
      <td><p>Elevation data can be submitted, then a topo map is overlaid. Elevation data must be submitted as a matrix (as described in readelevdata in utilities.r).</p></td>
    </tr>
    <tr>
      <th>cutoff</th>
      <td><p>Diameter breaks for changing size of plotting points.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>The size of plotting points, to match the number of diameter breaks. If NULL, a default set is assigned. This can require fiddling, as big points do not work for really abundant species, and small points for rare species.</p></td>
    </tr>
    <tr>
      <th>deadtree</th>
      <td><p>Set NULL to map all trees, alive and dead; TRUE for dead only, FALSE for live only (relies on status in the R table).</p></td>
    </tr>
    <tr>
      <th>maintitle</th>
      <td><p>A title to appear at the top of the page, above the species name.</p></td>
    </tr>
    <tr>
      <th>titlepos</th>
      <td><p>The position to place the title. The default is above the center of the plot, higher than the species name. It may require some fiddling on different screens to get it the right distance above.</p></td>
    </tr>
    <tr>
      <th>clrs</th>
      <td><p>A vector of color names, one for each species. If set to NULL, default values are assigned. See bw.</p></td>
    </tr>
    <tr>
      <th>bw</th>
      <td><p>If TRUE, only black, white, and grays are used.</p></td>
    </tr>
    <tr>
      <th>bgcolor</th>
      <td><p>The background color. Defaults to white. For presentation exports, try bgcolor="transparent".</p></td>
    </tr>
    <tr>
      <th>symbols</th>
      <td><p>A vector of symbols, one per species. Can be anything accepted by R for pch (plot character in the function plot()). If NULL, defaults are assigned.</p></td>
    </tr>
    <tr>
      <th>addlegend, </th>
      <td><p>legpos, legsize For the species name, whether to include, where to place, and font size. Try the defaults first before fiddling, or just set addlegend=FALSE to remove.</p></td>
    </tr>
    <tr>
      <th>labsize</th>
      <td><p>Size of axis labels.</p></td>
    </tr>
    <tr>
      <th>bty</th>
      <td><p>Type of box to appear around species name. The default, 'n', means no box; set to 'o'to see the box.</p></td>
    </tr>
    <tr>
      <th>ht, </th>
      <td><p>wd, plotside These are the height and width of the overall graph, and the vertical dimension (inches) of the map. The default work for pdf export or mapping to the screen, and ht and wd are inches. But if export is png, jpg, emf, height and width are pixels and need to be 500-1000.</p></td>
    </tr>
    <tr>
      <th>axspos</th>
      <td><p>Distance between axis numbers and axis.</p></td>
    </tr>
    <tr>
      <th>topoclr</th>
      <td><p>Color of topolines.</p></td>
    </tr>
    <tr>
      <th>topoint</th>
      <td><p>Interval for topolines, if elevdata are submitted.</p></td>
    </tr>
    <tr>
      <th>export</th>
      <td><p>See function define.graphwindow.</p></td>
    </tr>
    <tr>
      <th>filepath</th>
      <td><p>The folder to which map will be exported.</p></td>
    </tr>
    <tr>
      <th>outfile</th>
      <td><p>The name of the file to export to.</p></td>
    </tr>
    <tr>
      <th>It</th>
      <td><p>can be set to NULL if not available, then only the species code (as submitted) appears on the map.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>not_run</span>({

  <span class='co'># If you have saved split formatted data:  </span>
  <span class='fu'><a href='CTFSplot.html'>CTFSplot</a></span>(<span class='kw'>plot</span> <span class='kw'>=</span> <span class='st'>'bci'</span>,
    <span class='kw'>census</span> <span class='kw'>=</span> <span class='fl'>6</span>,
    <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'split'</span>)

  <span class='co'># If you have not saved:</span>

  <span class='fu'><a href='CTFSplot.html'>CTFSplot</a></span>(<span class='kw'>plot</span> <span class='kw'>=</span> <span class='st'>'bci'</span>, <span class='kw'>census</span> <span class='kw'>=</span> <span class='fl'>6</span>)

  <span class='no'>bci.split6</span> <span class='kw'>=</span> <span class='fu'><a href='split_data.html'>split_data</a></span>(<span class='kw'>censdata</span> <span class='kw'>=</span> <span class='no'>bci.full6</span>, <span class='kw'>splitcol</span> <span class='kw'>=</span> <span class='st'>'sp'</span>)

  <span class='no'>nospp</span> <span class='kw'>=</span> <span class='fu'>length</span>(<span class='no'>species</span>)

  <span class='fu'>map</span>(<span class='kw'>splitdatafile</span> <span class='kw'>=</span> <span class='no'>bci.split6</span>, <span class='kw'>species</span> <span class='kw'>=</span> <span class='st'>'poular'</span>)

  <span class='fu'>map</span>(
    <span class='kw'>splitdatafile</span> <span class='kw'>=</span> <span class='no'>bci.split6</span>,
    <span class='kw'>species</span> <span class='kw'>=</span> <span class='st'>'poular'</span>,
    <span class='kw'>export</span> <span class='kw'>=</span> <span class='st'>'pdf'</span>,
    <span class='kw'>filepath</span> <span class='kw'>=</span> <span class='st'>'~/data/maps/'</span>,
    <span class='kw'>outfile</span> <span class='kw'>=</span> <span class='st'>'Poulsenia1995map'</span>,
    <span class='kw'>plotside</span> <span class='kw'>=</span> <span class='fl'>10</span>,
    <span class='kw'>ht</span> <span class='kw'>=</span> <span class='fl'>8.5</span>,
    <span class='kw'>wd</span> <span class='kw'>=</span> <span class='fl'>11</span>
  )

  <span class='fu'>map</span>(<span class='kw'>splitdatafile</span> <span class='kw'>=</span> <span class='no'>bci.split6</span>,
    <span class='kw'>species</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>'guatdu'</span>, <span class='st'>'poular'</span>))
})</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao, Kyle Harms, Mauro Lepore, CTFS-ForestGEO.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
