<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>All news • ctfs</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ctfs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions Index</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/ctfs">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">

  <div class="col-md-9">
    <div class="page-header">
      <h1>Change log <small>All releases</small></h1>
    </div>

    <div class="contents">
    <div id="forestr-0-0-0-9000" class="section level1">
<h1 class="hasAnchor">
<a href="#forestr-0-0-0-9000" class="anchor"></a>forestr 0.0.0.9000</h1>
<div id="week-starting-on" class="section level2">
<h2 class="hasAnchor">
<a href="#week-starting-on" class="anchor"></a>2017-06-05 (week starting on)</h2>
<div id="done" class="section level3">
<h3 class="hasAnchor">
<a href="#done" class="anchor"></a>DONE</h3>
<ul>
<li><p>Deprecate <code><a href="../reference/is.leap.html">is.leap()</a></code>; recommend <code><a href="http://www.rdocumentation.org/packages/lubridate/topics/leap_year">lubridate::leap_year()</a></code>.</p></li>
<li><p>Refer to BCI data using new names, replacing old names (e.g. bci.full1 by bci::bci12full1).</p></li>
</ul>
<p>CONVENTIONS</p>
</div>
<div id="new-sections" class="section level3">
<h3 class="hasAnchor">
<a href="#new-sections" class="anchor"></a>New sections:</h3>
<div id="reuse-good-code-and-alternative" class="section level4">
<h4 class="hasAnchor">
<a href="#reuse-good-code-and-alternative" class="anchor"></a>Reuse good code, and Alternative</h4>
<p>To direct users to better alternatives:</p>
<p>via <code>@template reuse_good_code</code>, add:</p>
<p>“The single biggest way to improve both the quality of your code and your productivity is to reuse good code (…) Many algorithms have already been invented, tested, discussed in the trade literature, reviewed, and improved”.</p>
<p>–Code complete 2, by Steve McConnell.</p>
<p>Then, show a better alternative via section __Alternative_. For examples see <code><a href="../reference/left.html">left()</a></code>, <code><a href="../reference/convert.factor.html">convert.factor()</a></code>.</p>
</div>
<div id="arguments-details" class="section level4">
<h4 class="hasAnchor">
<a href="#arguments-details" class="anchor"></a>Arguments details</h4>
<p>Gives details of arguments that are specific for the current function, and may better be kept separate to what is documented more generally via <code>@param</code>, which can be reused via <code>@template</code> or <code>@inheritParams</code>).</p>
</div>
</div>
<div id="new-tags" class="section level3">
<h3 class="hasAnchor">
<a href="#new-tags" class="anchor"></a>New tags:</h3>
<p>Find these tags with <code>shift + f</code></p>
<p>SOURCE CODE</p>
<ul>
<li><p><strong>Unused.</strong> To tag unused arguments. Search this tag with shift + ctrl + F.</p></li>
<li><p><strong>xxx_amend_source</strong> To tag source code that needs work.</p></li>
</ul>
<p>DOCUMENTATION</p>
<ul>
<li><p><strong>xxx_amend_doc</strong> To tag documentation that I need to amend later. Find these tags with <code>shift + f</code>.</p></li>
<li><p><strong>xxxdocparam</strong> To tag arguments that need to be documented. They are discoverable with find_xxxdocparam()</p></li>
</ul>
<p>XXX END OF NOT REPORTED WORK</p>
</div>
</div>
<div id="improved-arguments-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#improved-arguments-documentation" class="anchor"></a>Improved arguments documentation</h2>
<blockquote>
<p>Documentation is one of the most important aspects of a good package. Without it, users won’t know how to use your package. Documentation is also useful for future-you (so you remember what your functions were supposed to do), and for developers extending your package.</p>
</blockquote>
<p>– <a href="http://r-pkgs.had.co.nz/man.html" class="uri">http://r-pkgs.had.co.nz/man.html</a></p>
<p>Documentation of forestr has two large problems: the arguments of many function are undocumented, and many arguments that mean the same accross multiple functions are documented in multiple places. Those problems can in part be solved by re-using arguments shared across multiple functions, when the arguments are documented in one but not all of those functions. This also reduces duplication, which makes easier to maintain documentation (see <a href="http://r-pkgs.had.co.nz/man.html">Inheriting parameters from other functions</a>, by Hadley Wickham).</p>
<div id="where-to-start-from" class="section level3">
<h3 class="hasAnchor">
<a href="#where-to-start-from" class="anchor"></a>Where to start from?</h3>
<ul>
<li>(Comes after item below), identified what arguments should be documented with highest priority, to maximize the positive impact by unit of effort. I wrote functions to identify what arguments are most commonly used in forestr functions, but less commonly documented.</li>
</ul>
<p>Example 1: The list below shows that the argument <code>x</code> is used 130 times (by functions including <code>border.distance</code>, <code>cartesian.to.polar</code>, etc.), but <code>x</code> is only documented 8 times.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">args_count_formals_man</span>()
<span class="co"># A tibble: 1,758 x 4</span>
   params                 fun frml_n man_n
    <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">               </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span>      x     border.distance    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">2</span>      x  cartesian.to.polar    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">3</span>      x coldata.to.imagemat    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">4</span>      x         fullellipse    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">5</span>      x      getquadratname    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">6</span>      x     graphFilledBand    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">7</span>      x        plot_wavelet    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">8</span>      x            tojulian    <span class="dv">130</span>     <span class="dv">8</span>
 <span class="dv">9</span>      x      abundmodel.fit    <span class="dv">130</span>    <span class="ot">NA</span>
<span class="dv">10</span>      x         addBinParam    <span class="dv">130</span>    <span class="ot">NA</span>
<span class="co"># ... with 1,748 more rows</span></code></pre></div>
<p>Note: unfortunately, <code>x</code> is used with very different meaning in different functions, so it is not a great candidate to improve documentation fast. Other arguments are better candidates.</p>
<p>Example 2: The argument <code>plotdim</code> is a good candidate to improve documentation fast. It is needed by 37 functions but is documented in only 29. Its meaning is very consistent accross functions, so it can be documented in one place via \@templates and then re-used from the functions that need it (they all point to the same tamplate).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args_count_formals_man</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(params <span class="op">==</span><span class="st"> "plotdim"</span>) 
<span class="co"># A tibble: 37 x 4</span>
    params               fun frml_n man_n
     <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">             </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span> plotdim  abundanceperquad     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">2</span> plotdim  allquadratslopes     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">3</span> plotdim            Annuli     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">4</span> plotdim   border.distance     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">5</span> plotdim      CalcRingArea     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">6</span> plotdim  complete.plotmap     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">7</span> plotdim     coverage.diag     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">8</span> plotdim          distance     <span class="dv">37</span>    <span class="dv">29</span>
 <span class="dv">9</span> plotdim   findborderquads     <span class="dv">37</span>    <span class="dv">29</span>
<span class="dv">10</span> plotdim findneighborabund     <span class="dv">37</span>    <span class="dv">29</span>
<span class="co"># ... with 27 more rows</span></code></pre></div>
</div>
<div id="reduced-duplicated-instances-of-arguments-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#reduced-duplicated-instances-of-arguments-documentation" class="anchor"></a>Reduced duplicated instances of arguments documentation</h3>
<ul>
<li>Reduced duplicated instances of arguments documentation from 132 to 41, mostly via roxygen2 @templates and @inheritParams.</li>
</ul>
<p>BEFORE: 43 arguments were repeated multiple times (see <code>n</code> in table below), adding up to 132 duplicated instances.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">             params     n
              <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">0</span>          plotdim     <span class="dv">9</span>
 <span class="dv">1</span>         gridsize     <span class="dv">8</span>
 <span class="dv">2</span>           mindbh     <span class="dv">6</span>
 <span class="dv">3</span>                x     <span class="dv">6</span>
 <span class="dv">4</span>         censdata     <span class="dv">5</span>
 <span class="dv">5</span>            debug     <span class="dv">5</span>
 <span class="dv">6</span>             ycol     <span class="dv">5</span>
 <span class="dv">7</span>                r     <span class="dv">4</span>
 <span class="dv">8</span>             type     <span class="dv">4</span>
 <span class="dv">9</span>           xrange     <span class="dv">4</span>
<span class="dv">10</span>           yrange     <span class="dv">4</span>
<span class="dv">11</span>             data     <span class="dv">3</span>
<span class="dv">12</span>           export     <span class="dv">3</span>
<span class="dv">13</span>          outfile     <span class="dv">3</span>
<span class="dv">14</span>         showstep     <span class="dv">3</span>
<span class="dv">15</span>             size     <span class="dv">3</span>
<span class="dv">16</span>            steps     <span class="dv">3</span>
<span class="dv">17</span>             xcol     <span class="dv">3</span>
<span class="dv">18</span>                y     <span class="dv">3</span>
<span class="dv">19</span>              ...     <span class="dv">2</span>
<span class="dv">20</span>         badparam     <span class="dv">2</span>
<span class="dv">21</span>       badSDparam     <span class="dv">2</span>
<span class="dv">22</span>           burnin     <span class="dv">2</span>
<span class="dv">23</span>             clrs     <span class="dv">2</span>
<span class="dv">24</span>            error     <span class="dv">2</span>
<span class="dv">25</span>         filepath     <span class="dv">2</span>
<span class="dv">26</span>          graphit     <span class="dv">2</span>
<span class="dv">27</span>               ht     <span class="dv">2</span>
<span class="dv">28</span>            ltype     <span class="dv">2</span>
<span class="dv">29</span>           lwidth     <span class="dv">2</span>
<span class="dv">30</span>            model     <span class="dv">2</span>
<span class="dv">31</span>        modeltype     <span class="dv">2</span>
<span class="dv">32</span>             path     <span class="dv">2</span>
<span class="dv">33</span>           ptsize     <span class="dv">2</span>
<span class="dv">34</span>           sdfunc     <span class="dv">2</span>
<span class="dv">35</span>            start     <span class="dv">2</span>
<span class="dv">36</span>          startSD     <span class="dv">2</span>
<span class="dv">37</span> subquadratsuffix     <span class="dv">2</span>
<span class="dv">38</span>           update     <span class="dv">2</span>
<span class="dv">39</span>               wd     <span class="dv">2</span>
<span class="dv">40</span>            xname     <span class="dv">2</span>
<span class="dv">41</span>            yname     <span class="dv">2</span>
<span class="dv">42</span>                z     <span class="dv">2</span>
<span class="op">-------------------------</span>
<span class="kw">sum</span>(n)                <span class="dv">132</span></code></pre></div>
<p>AFTER: 18 arguments remain that have the same name in two or more functions, adding up to 41 instances. These instances of arguments with thae same name either mean different things in different fuctions or, rarely, if they mean the same or not is unclear.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    params     n
     <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span>    type     <span class="dv">4</span>
 <span class="dv">2</span>       x     <span class="dv">4</span>
 <span class="dv">3</span>       y     <span class="dv">3</span>
 <span class="dv">4</span>    clrs     <span class="dv">2</span>
 <span class="dv">5</span>    data     <span class="dv">2</span>
 <span class="dv">6</span> graphit     <span class="dv">2</span>
 <span class="dv">7</span>       h     <span class="dv">2</span>
 <span class="dv">8</span>    path     <span class="dv">2</span>
 <span class="dv">9</span>  ptsize     <span class="dv">2</span>
<span class="dv">10</span>       r     <span class="dv">2</span>
<span class="dv">11</span>  sdfunc     <span class="dv">2</span>
<span class="dv">12</span> startSD     <span class="dv">2</span>
<span class="dv">13</span>       w     <span class="dv">2</span>
<span class="dv">14</span>    xcol     <span class="dv">2</span>
<span class="dv">15</span>  xrange     <span class="dv">2</span>
<span class="dv">16</span>    ycol     <span class="dv">2</span>
<span class="dv">17</span>  yrange     <span class="dv">2</span>
<span class="dv">18</span>       z     <span class="dv">2</span>
<span class="op">----------------</span>
<span class="kw">sum</span>(n)        <span class="dv">41</span></code></pre></div>
</div>
<div id="documented-arguments-which-functions-names-are-similar-in-ctfs-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#documented-arguments-which-functions-names-are-similar-in-ctfs-cran" class="anchor"></a>Documented arguments which functions names are similar in CTFS-CRAN</h3>
<ul>
<li>Documented arguments from functions of forestr which function names are similar to functions from CTFS-CRAN. After working on the item below, I documented functions which name is not exactly the same but similar, suggesting that those functions from forestr and CTFS-CRAN have a lot in common and therefore the information from CTFS-CRAN helped fill a few more gaps in the documentation of forestr.</li>
</ul>
</div>
<div id="documented-arguments-which-functions-names-match-exactly-function-names-in-ctfs-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#documented-arguments-which-functions-names-match-exactly-function-names-in-ctfs-cran" class="anchor"></a>Documented arguments which functions names match exactly function names in CTFS-CRAN</h3>
<ul>
<li>Documented arguments by reviewing only ~30 functions from <em>forestr</em> which name is exactly the same as in CTFS-CRAN (see list below). This match helped document arguments which meaning was unclear from only one source of information. Undocumented arguments reduced by approx. 120 (from 1,150 to 1,036).</li>
</ul>
<p>Those functions are these:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> [<span class="dv">1</span>] <span class="st">"abundance.Rd"</span>            
 [<span class="dv">2</span>] <span class="st">"abundance.spp.Rd"</span>        
 [<span class="dv">3</span>] <span class="st">"assemble.demography.Rd"</span>  
 [<span class="dv">4</span>] <span class="st">"ba.Rd"</span>                   
 [<span class="dv">5</span>] <span class="st">"biomass.change.Rd"</span>       
 [<span class="dv">6</span>] <span class="st">"elev.to.list.Rd"</span>         
 [<span class="dv">7</span>] <span class="st">"find.climits.Rd"</span>         
 [<span class="dv">8</span>] <span class="st">"findborderquads.Rd"</span>      
 [<span class="dv">9</span>] <span class="st">"growth.dbh.Rd"</span>           
[<span class="dv">10</span>] <span class="st">"growth.eachspp.Rd"</span>       
[<span class="dv">11</span>] <span class="st">"growth.indiv.Rd"</span>         
[<span class="dv">12</span>] <span class="st">"growth.Rd"</span>               
[<span class="dv">13</span>] <span class="st">"gxgy.to.hectindex.Rd"</span>    
[<span class="dv">14</span>] <span class="st">"gxgy.to.index.Rd"</span>        
[<span class="dv">15</span>] <span class="st">"gxgy.to.rowcol.Rd"</span>       
[<span class="dv">16</span>] <span class="st">"index.to.gxgy.Rd"</span>        
[<span class="dv">17</span>] <span class="st">"index.to.rowcol.Rd"</span>      
[<span class="dv">18</span>] <span class="st">"map.Rd"</span>                  
[<span class="dv">19</span>] <span class="st">"maptopo.Rd"</span>              
[<span class="dv">20</span>] <span class="st">"mortality.calculation.Rd"</span>
[<span class="dv">21</span>] <span class="st">"mortality.dbh.Rd"</span>        
[<span class="dv">22</span>] <span class="st">"mortality.eachspp.Rd"</span>    
[<span class="dv">23</span>] <span class="st">"mortality.Rd"</span>            
[<span class="dv">24</span>] <span class="st">"readelevdata.Rd"</span>         
[<span class="dv">25</span>] <span class="st">"recruitment.eachspp.Rd"</span>  
[<span class="dv">26</span>] <span class="st">"recruitment.Rd"</span>          
[<span class="dv">27</span>] <span class="st">"rowcol.to.index.Rd"</span>      
[<span class="dv">28</span>] <span class="st">"tojulian.Rd"</span>             
[<span class="dv">29</span>] <span class="st">"trim.growth.Rd"</span>      </code></pre></div>
<p>Notes</p>
<ul>
<li><p>Although the 29 functions above have the same name, some differ in the source code, including arguments number, name, and definition.</p></li>
<li><p>There are approximately 377 functions in forestr versus only 88 in CTFS-CRAN.</p></li>
<li><p>Some arguments remain undocumented, and they can be found with the internal function <code>find_xxxdocparam()</code>:</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">find_xxxdocparam</span>()
[<span class="dv">1</span>] <span class="st">"#' @param cens1,cens2 xxxdocparam"</span>
[<span class="dv">2</span>] <span class="st">"#' @param time xxxdocparam"</span>       
[<span class="dv">3</span>] <span class="st">"#' @param xaxis xxxdocparam"</span>      
[<span class="dv">4</span>] <span class="st">"#' @param yaxis xxxdocparam"</span>      
[<span class="dv">5</span>] <span class="st">"#' @param labelsize xxxdocparam"</span>  
[<span class="dv">6</span>] <span class="st">"#' @param clr xxxdocparam"</span>        
[<span class="dv">7</span>] <span class="st">"#' @param classbreak xxxdocparam"</span> 
[<span class="dv">8</span>] <span class="st">"#' @param meantime xxxdocparam"</span>  </code></pre></div>
<p>I tried to use documentation in forestr exclusively and used documentation from CTFS-CRAN only to fill gaps (most often missing parameters’ documentation) and as a source of information to rewrite forestr’s documentation. Some limitations in merging documentation in forestr and CTFS-CRAN are:</p>
</div>
</div>
<div id="future-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#future-improvements" class="anchor"></a>Future improvements</h2>
<p>Further improving documentation is much easier now than before. For any function, its arguments documentation can now be explored with <code>args_explore("function_name")</code>, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="kw">args_explore</span>(<span class="st">"growth"</span>)
All arguments are documented somewhere.
<span class="op">$</span>args_of
<span class="co"># A tibble: 12 x 1</span>
   arguments
       <span class="op">&lt;</span>chr<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span>   census1
 <span class="dv">2</span>   census2
 <span class="dv">3</span> rounddown
 <span class="dv">4</span>    method
 <span class="dv">5</span>     stdev
 <span class="dv">6</span>   dbhunit
 <span class="dv">7</span>    mindbh
 <span class="dv">8</span> growthcol
 <span class="dv">9</span> err.limit
<span class="dv">10</span>   maxgrow
<span class="dv">11</span>    split1
<span class="dv">12</span>    split2

<span class="op">$</span>args_by_fun
<span class="co"># A tibble: 17 x 3</span>
                   fun    params                               definition
                 <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">     </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">                                    </span><span class="er">&lt;</span>chr<span class="op">&gt;</span>
<span class="st"> </span><span class="dv">1</span>      biomass.change   census1 The R Analytical Table <span class="cf">for</span> a single c...
 <span class="dv">2</span>      biomass.change   census2 The matching R Analytical Table <span class="cf">for</span> a...
 <span class="dv">3</span>           abundance   dbhunit <span class="st">'cm'</span> or <span class="st">'mm'</span>, only used <span class="cf">for</span> basal are...
 <span class="dv">4</span>         trim.growth err.limit A number. Numbers such as <span class="dv">10000</span> are h...
 <span class="dv">5</span>         trim.growth   maxgrow A number. Numbers such as <span class="dv">10000</span> are h...
 <span class="dv">6</span>              growth growthcol defines how growth is measured, eithe...
 <span class="dv">7</span>              growth    method Use <span class="st">'I'</span> to calculate annual dbh incre...
 <span class="dv">8</span>           abundance    mindbh the minimum diameter above which the ...
 <span class="dv">9</span>    complete.plotmap    mindbh         <span class="st">"smallest dbh to include</span><span class="ch">\r\n</span><span class="st">#' "</span>
<span class="dv">10</span> model.littleR.Gibbs    mindbh minimum dbh to be included; all trees...
<span class="dv">11</span>   NeighborDensities    <span class="kw">mindbh</span> (<span class="dv">10</span>) minimum size of neighbors to be ...
<span class="dv">12</span>              RipUvK    mindbh the minimum dbh to include <span class="cf">in</span> results...
<span class="dv">13</span>          spparea.sq    mindbh        <span class="st">"the minimum dbh included</span><span class="ch">\r\n</span><span class="st">#' "</span>
<span class="dv">14</span>              growth rounddown If <span class="ot">TRUE</span>, all dbh <span class="op">&lt;</span><span class="st"> </span><span class="dv">55</span> are rounded dow...
<span class="dv">15</span>           abundance    split1 a vector of categories, one per indiv...
<span class="dv">16</span>           abundance    split2 another vector of categories, one per...
<span class="dv">17</span>              growth     stdev Logical. <span class="kw">Default</span> (<span class="ot">FALSE</span>) returns conf...

<span class="op">$</span>args_undoc
<span class="ot">NULL</span></code></pre></div>
<ul>
<li>To see all documented parameters use the internal function <code>table_params_all()</code> or the internal object <code>params_table</code> (<a href="https://goo.gl/PAGjYi">see it online</a>).</li>
</ul>
</div>
<div id="enhanced" class="section level2">
<h2 class="hasAnchor">
<a href="#enhanced" class="anchor"></a>Enhanced</h2>
<ul>
<li><p>To help users find the functions they need the online <a href="https://forestgeo.github.io/forestr/reference/index.html">functions’ reference</a> now gives more information about each function and better organized. Using the folder and file name where each function lived in the CTFSRPackage, I arranged the functions alphabetically by the name of folder, file and function. And I extracted text from the description of each function to give some indication of what each function does. I did all this pragmatically; it would improve with human curation.</p></li>
<li><p>Clone from ctfs 0.0.0.9005 (<a href="https://goo.gl/GhNLyz">advice</a>)</p></li>
</ul>
</div>
</div>
    <div id="ctfs-0-0-0-9005" class="section level1">
<h1 class="hasAnchor">
<a href="#ctfs-0-0-0-9005" class="anchor"></a>ctfs 0.0.0.9005</h1>
<div id="fixed" class="section level3">
<h3 class="hasAnchor">
<a href="#fixed" class="anchor"></a>Fixed</h3>
<ul>
<li>Fixed name of functions that where automatically interpreted as S3 methods</li>
</ul>
<p>To permanently fix this problem, I replaced dots “.” by “_" in the names of those problematic functions. The change should be easy to digest by users. The new names of those functions shows up with RStudio’s auto-completion, and the change has been detailed in the documentation of each function.</p>
<p>The functions are these:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>     density.ind  <span class="co"># replaced by density_ind</span>
<span class="dv">2</span>        exp.2par  <span class="co"># replaced by exp_2par</span>
<span class="dv">3</span>    hist.compare  <span class="co"># replaced by hist_compare</span>
<span class="dv">4</span> image.dataframe  <span class="co"># replaced by image_dataframe</span>
<span class="dv">5</span>       log.model  <span class="co"># replaced by log_model</span>
<span class="dv">6</span>      merge.data  <span class="co"># replaced by merge_data</span>
<span class="dv">7</span>    plot.wavelet  <span class="co"># replaced by plot_wavelet</span>
<span class="dv">8</span>      solve.topo  <span class="co"># replaced by solve_topo</span>
<span class="dv">9</span>      split.data  <span class="co"># replaced by split_data</span></code></pre></div>
<ul>
<li>Fixed NOTE on partially matched arguments.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">complete.plotmap<span class="op">:</span><span class="st"> </span>warning ...<span class="op">:</span><span class="st"> </span>partial argument match of <span class="st">'exp'</span> to <span class="st">'export'</span>

dgammaMinusdexp<span class="op">:</span><span class="st"> </span>warning <span class="cf">in</span> <span class="kw">pgamma</span>(z, <span class="dt">shape =</span> a, <span class="dt">rate =</span> r <span class="op">+</span><span class="st"> </span>lambda,
  <span class="dt">lower.tail =</span> <span class="ot">FALSE</span>, <span class="dt">log =</span> <span class="ot">TRUE</span>)<span class="op">:</span><span class="st"> </span>partial argument match of <span class="st">'log'</span> to
  <span class="st">'log.p'</span>
  
map<span class="op">:</span><span class="st"> </span>warning <span class="cf">in</span> <span class="kw"><a href="../reference/define.graphwindow.html">define.graphwindow</a></span>(<span class="dt">exp =</span> export, <span class="dt">h =</span> ht, <span class="dt">w =</span> wd, <span class="dt">file =</span>
  filename)<span class="op">:</span><span class="st"> </span>partial argument match of <span class="st">'exp'</span> to <span class="st">'export'</span>
  
map<span class="op">:</span><span class="st"> </span>warning <span class="cf">in</span> <span class="kw"><a href="../reference/maptopo.html">maptopo</a></span>(<span class="dt">elev =</span> elevdata, <span class="dt">plotdim =</span> plotdim, <span class="dt">xaxis =</span>
  xaxis, <span class="dt">yaxis =</span> yaxis, <span class="dt">interval =</span> topoint, <span class="dt">ht =</span> ht, <span class="dt">wd =</span> wd, plotside
  =<span class="st"> </span>plotside, <span class="dt">labelsize =</span> labsize, <span class="dt">axspos =</span> axspos, <span class="dt">bgcolor =</span> bgcolor,
  <span class="dt">clr =</span> topoclr)<span class="op">:</span><span class="st"> </span>partial argument match of <span class="st">'elev'</span> to <span class="st">'elevmat'</span>
run.growthbin.manyspp<span class="op">:</span><span class="st"> </span>warning <span class="cf">in</span> <span class="kw"><a href="../reference/run.growthfit.bin.html">run.growthfit.bin</a></span>(<span class="dt">growthdata =</span>
  spdata, <span class="dt">size =</span> size, <span class="dt">binoption =</span> binoption, <span class="dt">startpar =</span> startpar,
  <span class="dt">sdmodel =</span> sdmodel, <span class="dt">startsdpar =</span> startsdpar, <span class="dt">badsdfunc =</span> badsdfunc,
  <span class="dt">norep =</span> noreps, <span class="dt">noburn =</span> noburn, <span class="dt">noshow =</span> noshow, ...)<span class="op">:</span><span class="st"> </span>partial
  argument match of <span class="st">'norep'</span> to <span class="st">'noreps'</span>

selectrandomquad2<span class="op">:</span><span class="st"> </span>warning <span class="cf">in</span> <span class="kw"><a href="../reference/index.to.gxgy.html">index.to.gxgy</a></span>(r, <span class="dt">grid =</span> <span class="dv">1</span>, <span class="dt">plotdim =</span>
  plotdim <span class="op">-</span><span class="st"> </span>size)<span class="op">:</span><span class="st"> </span>partial argument match of <span class="st">'grid'</span> to <span class="st">'gridsize'</span></code></pre></div>
<ul>
<li><p>Fixed one problem in <code><a href="../reference/wavelet.univariate.html">wavelet.univariate()</a></code>, which erroneously referred to <code><a href="../reference/wavelet.univariate.html">wavelet.univariate()</a></code> as <code>wavelet.var()</code>. Also fixed an erroneous reference to <code>wavelet.var()</code> in examples of <code><a href="../reference/wavelet.univariate.html">wavelet.univariate()</a></code>.</p></li>
<li><p>Fixed bug in <code><a href="../reference/model.littleR.Gibbs.html">model.littleR.Gibbs()</a></code>. In a code chunk, lowercase names of the data set passed to the argument sptable because the variable <code>idlevel</code> was referred to with inconsistent case. After that chunk the original names were recovered to avoid potential problems downstream.</p></li>
<li><p>Fixed bugs in <code><a href="../reference/pdf.allplot.html">pdf.allplot()</a></code> and <code><a href="../reference/png.allplot.html">png.allplot()</a></code> by replacing <code>subset()</code> by <code>[</code> in <code><a href="../reference/map.html">map()</a></code>. <code>subset()</code> <a href="http://adv-r.had.co.nz/Computing-on-the-language.html">should not be used inside functions</a>.</p></li>
<li><p>Fixed <code><a href="../reference/wavelet.bivariate.html">wavelet.bivariate()</a></code>, replace <code>as.real</code> (defunc) by <code>as.double</code>. Detect missing argument type and wrote a warning in the help file.</p></li>
</ul>
</div>
<div id="enhanced-1" class="section level3">
<h3 class="hasAnchor">
<a href="#enhanced-1" class="anchor"></a>Enhanced</h3>
<ul>
<li>Updated persons’ roles</li>
</ul>
<p>The version of CTFS archived on CRAN contained the following information (file AUTHORS):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Authors to date<span class="op">:</span>
Rick Condit <span class="op">&lt;</span>condit<span class="op">@</span>ctfs.si.edu<span class="op">&gt;</span>
Pamela Hall <span class="op">&lt;</span>phall<span class="op">@</span>alum.mit.edu<span class="op">&gt;</span>
Suzanne Lao  <span class="op">&lt;</span>laoz<span class="op">@</span>si.edu<span class="op">&gt;</span>
Kyle Harms  <span class="op">&lt;</span>kharms<span class="op">@</span>lsu.edu<span class="op">&gt;</span>
Akira Itoh  <span class="op">&lt;</span>itoh57<span class="op">@</span>hotmail.com<span class="op">&gt;</span></code></pre></div>
<p>Conservatively, every person listed above is described as authors in the current development (if this needs to change let me know):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Authors<span class="op">@</span>R<span class="op">:</span><span class="st"> </span><span class="kw">c</span>(
    <span class="kw">person</span>(<span class="st">"CTFS-ForestGEO"</span>, , , <span class="st">"ForestGEO@si.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"cph"</span>, <span class="st">"fnd"</span>)),
    <span class="kw">person</span>(<span class="st">"Rick"</span>, <span class="st">"Condit"</span>, , <span class="st">"condit@ctfs.si.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"aut"</span>)),
    <span class="kw">person</span>(<span class="st">"Pamela"</span>, <span class="st">"Hall"</span>, , <span class="st">"phall@alum.mit.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"aut"</span>)),
    <span class="kw">person</span>(<span class="st">"Suzanne"</span>, <span class="st">"Lao"</span>, , <span class="st">"laoz@si.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"aut"</span>)),
    <span class="kw">person</span>(<span class="st">"Kyle"</span>, <span class="st">"Harms"</span>, , <span class="st">"kharms@lsu.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"aut"</span>)),
    <span class="kw">person</span>(<span class="st">"Mauro"</span>, <span class="st">"Lepore"</span>, , <span class="st">"leporem@si.edu"</span>, <span class="dt">role =</span> <span class="kw">c</span>(<span class="st">"aut"</span>, <span class="st">"ctr"</span>, <span class="st">"cre"</span>))
    )</code></pre></div>
<p>Persons responsibilities are listed in <code>?person</code>. Some useful ones are these:</p>
<p>“aut”: (Author) Use for full authors who have made substantial contributions to the package and should show up in the package citation.</p>
<p>“ctb”: (Contributor) Use for authors who have made smaller contributions (such as code patches etc.) but should not show up in the package citation.</p>
<p>“cph”: (Copyright holder) Use for all copyright holders.</p>
<p>“cre”: (Creator) Use for the package <em>maintainer</em>.</p>
<p>“ctr”: (Contractor) Use for authors who have been contracted to write (parts of) the package and hence do not own intellectual property.</p>
<ul>
<li>
<p>Refer to functions from external packages explicitly with pkg::fun()</p>
<ul>
<li>
<code><a href="http://www.rdocumentation.org/packages/mvtnorm/topics/Mvnorm">mvtnorm::dmvnorm</a></code> and <code><a href="http://www.rdocumentation.org/packages/mvtnorm/topics/Mvnorm">mvtnorm::rmvnorm</a></code>, used in
<ul>
<li><code><a href="../reference/graph.mvnorm.html">graph.mvnorm()</a></code></li>
<li><code><a href="../reference/lmerBayes.hyperllike.sigma.html">lmerBayes.hyperllike.sigma()</a></code></li>
<li><code><a href="../reference/lmerBayes.hyperllike.mean.html">lmerBayes.hyperllike.mean()</a></code></li>
<li><code><a href="../reference/llike.model.lmer.html">llike.model.lmer()</a></code></li>
</ul>
</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/MCMCpack/topics/InvGamma">MCMCpack::rinvgamma</a></code>, used in:
<ul>
<li><code><a href="../reference/Gibbs.regsigma.html">Gibbs.regsigma()</a></code></li>
<li><code><a href="../reference/Gibbs.normalvar.html">Gibbs.normalvar()</a></code></li>
</ul>
</li>
<li><p><code><a href="http://www.rdocumentation.org/packages/splancs/topics/spoints">splancs::spoints</a></code>, used in: -<code><a href="../reference/NeighborDensities.html">NeighborDensities()</a></code> -<code><a href="../reference/NDcount.html">NDcount()</a></code> -<code><a href="../reference/RipUvK.html">RipUvK()</a></code></p></li>
<li><p><code><a href="http://www.rdocumentation.org/packages/splancs/topics/inpip">splancs::inpip</a></code>, used in: <code><a href="../reference/NeighborDensities.html">NeighborDensities()</a></code></p></li>
<li>
<code><a href="http://www.rdocumentation.org/packages/splancs/topics/dsquare">splancs::dsquare</a></code>, used in:
<ul>
<li><code><a href="../reference/NeighborDensities.html">NeighborDensities()</a></code></li>
</ul>
</li>
<li>
<code><a href="http://www.rdocumentation.org/packages/date/topics/mdy.date">date::mdy.date</a></code> and <code><a href="http://www.rdocumentation.org/packages/date/topics/date.mmddyy">date::date.mmddyy</a></code>, used in:
<ul>
<li><code><a href="../reference/tojulian.html">tojulian()</a></code></li>
<li><code><a href="../reference/fromjulian.html">fromjulian()</a></code></li>
<li><code><a href="../reference/mortality.eachspp.html">mortality.eachspp()</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>…this is what I recommend: list the package in DESCRIPTION so that it’s installed, then always refer to it explicitly with pkg::fun(). Unless there is a strong reason not to, it’s better to be explicit.</p>
</blockquote>
<p>–<a href="http://r-pkgs.had.co.nz/namespace.html">R packages, by Hadley Wickham</a></p>
<ul>
<li>
<p>Enhanced source code of functions listed below to defensively avoid non standard evaluation (not appropriate for programming). Replaced <code>subset()</code> by <code>[</code> in:</p>
<ul>
<li>
<code><a href="../reference/model.littleR.Gibbs.html">model.littleR.Gibbs()</a></code>,</li>
<li>
<code>density.ind()</code>,</li>
<li><code><a href="../reference/abund.manycensus.html">abund.manycensus()</a></code></li>
<li><code><a href="../reference/individual_grow.table.html">individual_grow.table()</a></code></li>
<li><code><a href="../reference/individual_mort.table.html">individual_mort.table()</a></code></li>
<li><code><a href="../reference/extract.growthdata.html">extract.growthdata()</a></code></li>
<li><code><a href="../reference/graph.outliers.spp.html">graph.outliers.spp()</a></code></li>
<li><code><a href="../reference/lmerBayes.html">lmerBayes()</a></code></li>
<li><code><a href="../reference/complete.plotmap.html">complete.plotmap()</a></code></li>
<li>
<code><a href="../reference/modelBayes.html">modelBayes()</a></code>: but errs. It also erred before replacing <code>subset()</code> by <code>[</code>
</li>
<li><code><a href="../reference/NeighborDensities.html">NeighborDensities()</a></code></li>
<li><code><a href="../reference/allquadratslopes.html">allquadratslopes()</a></code></li>
<li><code><a href="../reference/spparea.sq.html">spparea.sq()</a></code></li>
<li><code>split.data()</code></li>
<li><code><a href="../reference/countspp.html">countspp()</a></code></li>
</ul>
</li>
<li>
<p>Enhanced documentation of functions listed below by introducing <code>?wsgdata_dummy()</code>, a function to create dummy wood density tables.</p>
<ul>
<li><code><a href="../reference/biomass.CTFSdb.html">biomass.CTFSdb()</a></code></li>
<li><code>density.ind()</code></li>
</ul>
</li>
<li>
<p>In <code><a href="../reference/individual_grow.table.html">individual_grow.table()</a></code></p>
<ul>
<li>enhanced documentation: @return, @param rnd, @param cnsdata</li>
<li>enhanced source code: remove default of data argument cnsdata</li>
</ul>
</li>
<li><p>Suggest package bci, doesn’t import it because bci is in a private repo, so the user needs to provide a private token.</p></li>
<li><p>Enhanced documentation in <code><a href="../reference/wavelet.bivariate.html">wavelet.bivariate()</a></code>: argument type is missing from function definition, so I added a warning.</p></li>
</ul>
</div>
<div id="deprecated" class="section level3">
<h3 class="hasAnchor">
<a href="#deprecated" class="anchor"></a>Deprecated</h3>
<ul>
<li><p><code><a href="../reference/attach_if_needed.html">attach_if_needed()</a></code>: “In programming, functions should not change the search path unless that is their purpose” (<em>Good practice</em> in <code>?attach</code>).</p></li>
<li><p><code><a href="../reference/CTFSplot.html">CTFSplot()</a></code>: no longer necessary because bci data is now available via the <em>bci</em> package.</p></li>
</ul>
</div>
<div id="notes" class="section level3">
<h3 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h3>
<ul>
<li><p>Added tests to verify that functions amended output equal values before and after the fix.</p></li>
<li><p>Added a new vignette to test plots output remain the same after fixes to plotting functions. Follows advice in <em>Testing R Code</em>, by Richard Cotton.</p></li>
<li><p>Added a new vignette to report package quality</p></li>
<li><p>Added a new utility functions to remove rows full of NAs from data frames and matrices. Exported to access it from other functions easily, but removed from index with <code>@keywords internal</code>.</p></li>
<li><p>Created a private repo on forestgeo to store the CTFS version archived on CRAN, which seems to be a useful source for missing documentation and data, and for deciding what are the most important functions.</p></li>
<li><p>Tested all functions used in tutorials and out of a total of 28 functions, 13 failed to run. In addition to errors, I detected a number of other problems, described next.</p></li>
<li><p>In website references, grouped functions by file. This will later improve to include original source folder and the first line of the description of each function.</p></li>
</ul>
</div>
<div id="to-fix" class="section level3">
<h3 class="hasAnchor">
<a href="#to-fix" class="anchor"></a>To fix</h3>
<ul>
<li>Document undocumented arguments</li>
</ul>
<p>The R CMD check throws 1 warning for over 1,000 undocumented arguments in documentation objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Undocumented arguments <span class="cf">in</span> documentation object <span class="st">'AGB.dbtable'</span>
  <span class="st">'df'</span> <span class="st">'dbname'</span> <span class="st">'plot'</span> <span class="st">'code'</span> <span class="st">'censusno'</span>
Undocumented arguments <span class="cf">in</span> documentation object <span class="st">'AGB.ind'</span>
  <span class="st">'df'</span> <span class="st">'dbhunit'</span> <span class="st">'plot'</span> <span class="st">'wsgdata'</span> <span class="st">'forest'</span> <span class="st">'ht.param'</span> <span class="st">'htmodel'</span>
<span class="kw">...</span>(about <span class="dv">1</span>,<span class="dv">150</span> more)</code></pre></div>
<blockquote>
<p>Checking for missing documentation entries. All exported objects must be documented. See ?tools::undoc for more details.</p>
</blockquote>
<p><a href="http://r-pkgs.had.co.nz/check.html" class="uri">http://r-pkgs.had.co.nz/check.html</a></p>
<p>This may take long to fix but important. Some arguments seems easy to define because they are defined somewhere else or because they are obvious. But many others are not not obvious and I may need help from those who have used the functions before.</p>
<p>One source of useful information may be the version of CTFS that is archived on CRAN, which has relatively good documentation. However, that version contains only 88 functions, versus about 400 that has the complete CTFS R Package.</p>
<ul>
<li>
<p>Fix errors in functions below; they likely err because they along the way of calling <code>linear.model</code></p>
<ul>
<li><code><a href="../reference/growth.flexbin.html">growth.flexbin()</a></code></li>
<li><code><a href="../reference/run.growthfit.bin.html">run.growthfit.bin()</a></code></li>
<li><code><a href="../reference/run.growthbin.manyspp.html">run.growthbin.manyspp()</a></code></li>
</ul>
</li>
</ul>
<blockquote>
<p>“Error in x %*% b : requires numeric/complex matrix/vector arguments“. (Seems to be called from linear.model.ctr.) This limits running these other funtions:</p>
</blockquote>
<p>I tried <code>as.matrix(b)</code> but did not solve the problem, neither other less obvious things that I tried. Because <code><a href="../reference/linear.model.html">linear.model()</a></code> seems to work, I suspect that the problem is in some function in between the ones listed above and <code><a href="../reference/linear.model.html">linear.model()</a></code>. Also, these functions fail likely because they involve <code><a href="../reference/linear.model.html">linear.model()</a></code>:</p>
<div class="sourceCode"><pre class="sourceCode R"><code class="sourceCode r"><span class="op">-</span><span class="st"> </span>needs the output of <span class="st">`</span><span class="dt">gwoth.flexibin()</span><span class="st">`</span>
    <span class="op">-</span><span class="st"> `</span><span class="dt">graph.growthmodel.spp()</span><span class="st">`</span>
    
<span class="op">-</span><span class="st"> </span>needs the output of <span class="st">`</span><span class="dt">run.growthbin.manyspp()</span><span class="st">`</span>
    <span class="op">-</span><span class="st"> `</span><span class="dt">compare.growthbinmodel()</span><span class="st">`</span>
    <span class="op">-</span><span class="st"> `</span><span class="dt">overlay.growthbinmodel()</span><span class="st">`</span></code></pre></div>
<ul>
<li>fix <code><a href="../reference/wavelet.allsp.html">wavelet.allsp()</a></code>; it errs with message:</li>
</ul>
<blockquote>
<p>“Error in dimnames(variance) &lt;- list(names(splitdata), paste(”scale“, 1:ncol(variance))) : length of ‘dimnames’ [1] not equal to array extent”</p>
</blockquote>
<ul>
<li>
<p>Avoid <code>with()</code> (non-standard evaluation) in:</p>
<ul>
<li>
<code><a href="../reference/wavelet.allsp.html">wavelet.allsp()</a></code>,</li>
<li>
<code><a href="../reference/NeighborDensities.html">NeighborDensities()</a></code>,</li>
<li><code><a href="../reference/NDcount.html">NDcount()</a></code></li>
</ul>
</li>
<li><p>fix <code><a href="../reference/modelBayes.html">modelBayes()</a></code>; it calls debug before R throws error. At first, it erred calling <code>subset()</code>, so I replaced <code>subset()</code> by <code>[</code>, but continues to call debug from inside the function.</p></li>
</ul>
</div>
<div id="to-enhance" class="section level3">
<h3 class="hasAnchor">
<a href="#to-enhance" class="anchor"></a>To enhance</h3>
<ul>
<li><p>For all suggested packages, use <code>requireNamespace("package", quietly = TRUE) to test if package is installed, then use</code>package::fun()` to refer to functions.</p></li>
<li><p>Address one note with multiple components</p></li>
</ul>
<p>Before working on it, consider:</p>
<blockquote>
<p>If you’re not submitting to CRAN, carefully read each NOTE, but don’t go out of your way to fix things that you don’t think are problems</p>
</blockquote>
<p>–<a href="http://r-pkgs.had.co.nz/check.html" class="uri">http://r-pkgs.had.co.nz/check.html</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">checking R code <span class="cf">for</span> possible problems ... NOTE

Found an obsolete<span class="op">/</span>platform<span class="op">-</span>specific call <span class="cf">in</span> the following functions<span class="op">:</span>
<span class="st">  'compare.growthbinmodel'</span> <span class="st">'define.graphwindow'</span> <span class="st">'graph.abundmodel'</span>
  <span class="st">'graph.growthmodel'</span> <span class="st">'graph.modeldiag'</span> <span class="st">'graph.outliers'</span> <span class="st">'imageGraph'</span>
  <span class="st">'image_dataframe'</span> <span class="st">'map2species'</span> <span class="st">'maptopo'</span> <span class="st">'overlay.growthbinmodel'</span>
  <span class="st">'regsum'</span>
  
Found the platform<span class="op">-</span>specific devices<span class="op">:</span>
<span class="st">  'X11'</span> <span class="st">'quartz'</span> <span class="st">'win.graph'</span> <span class="st">'win.metafile'</span> <span class="st">'x11'</span>
<span class="kw">dev.new</span>() is the preferred way to open a new device, <span class="cf">in</span> the unlikely
event one is needed.

AGB.dbtable<span class="op">:</span><span class="st"> </span>no visible global <span class="cf">function</span> definition <span class="cf">for</span> <span class="st">'odbcConnect'</span>
AGB.dbtable<span class="op">:</span><span class="st"> </span>no visible global <span class="cf">function</span> definition <span class="cf">for</span> <span class="st">'odbcClose'</span>
<span class="kw">...</span>(about <span class="dv">30</span> more)

Undefined global functions or variables<span class="op">:</span>
<span class="st">  </span>as.points bci.full1 bci.full2 bci.full3 bci.full6 bci.split6
  bci.spptable bci3.spp composeParam.GaussianMap contour.quaddata
  coords2 ctfs.elev date.mdy dbh decimal.form gen.logistic index
  insideRectange inter khat korup.spp line.intersection mvrnorm
  odbcClose odbcConnect plotspp riwish samplemapfile sp spp20 sqlQuery
  trim.growth.mismeasure wsg.ctfs2

Found the following calls to <span class="kw">attach</span>()<span class="op">:</span>
File <span class="st">'ctfs/R/utilities.R'</span><span class="op">:</span>
<span class="st">  </span><span class="kw">attach</span>(file)</code></pre></div>
<ul>
<li>
<p>Document data accurately. Now, BCI data is available from the <em>bci</em> package, so old references to data should change to new references. For example:</p>
<ul>
<li>the new name of bci.full1 is bci12full1,</li>
<li>of bci.stem4 is bci12stem4,</li>
<li>of bci.spptable is bci12spptable</li>
<li>and <em>bci</em> also contains bci_elevation and bci_habitatat</li>
</ul>
</li>
<li>
<p>Add example data. These functions lack a file or data to test the function or run examples</p>
<ul>
<li><code><a href="../reference/fullplot.imageJ.html">fullplot.imageJ()</a></code></li>
<li>rearrangeSurveyData()`</li>
<li><code>solve.topo()</code></li>
</ul>
</li>
<li><p>Avoid side effect in <code><a href="../reference/run.growthbin.manyspp.html">run.growthbin.manyspp()</a></code>; it saves object to working directory without warning on the console or description in documentation.</p></li>
<li><p><code><a href="../reference/graph.abundmodel.html">graph.abundmodel()</a></code> transforms and prints data and plots data, should do 1 thing. Best to plot and return the first argument invisibly.</p></li>
</ul>
<blockquote>
<p>Side-effects functions should “invisibly” return the first argument, so that while they’re not printed they can still be used in a pipeline.</p>
</blockquote>
<p>–<a href="http://r4ds.had.co.nz/functions.html" class="uri">http://r4ds.had.co.nz/functions.html</a></p>
<ul>
<li><p>Consider improving performance of <code><a href="../reference/model.littleR.Gibbs.html">model.littleR.Gibbs()</a></code> and <code><a href="../reference/fitSeveralAbundModel.html">fitSeveralAbundModel()</a></code>; a test took about 20 minutes to run. If important, I may search the bottlenecks.</p></li>
<li>
<p>Enhance source code of functions listed below to defensively avoid non standard evaluation (not appropriate for programming) by replacing <code>subset()</code> with <code>[</code>. They were not fixed yet because, for the reasons listed below, I can’t run the functions, and therefore I can’t ensure that my fix doesn’t brake some other part of the code.</p>
<ul>
<li>function errs:
<ul>
<li><code><a href="../reference/run.growthbin.manyspp.html">run.growthbin.manyspp()</a></code></li>
</ul>
</li>
<li>function lacks required input:
<ul>
<li><code><a href="../reference/imageJ.to.lxly.html">imageJ.to.lxly()</a></code></li>
</ul>
</li>
<li>data is missing to run the function
<ul>
<li><code>solve.topo()</code></li>
<li><code><a href="../reference/rearrangeSurveyData.html">rearrangeSurveyData()</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="to-deprecate" class="section level3">
<h3 class="hasAnchor">
<a href="#to-deprecate" class="anchor"></a>To deprecate</h3>
<p>These functions should be deprecated because they use <code>attach()</code></p>
<ul>
<li>
<code><a href="../reference/graph.abundmodel.html">graph.abundmodel()</a></code>: Argument <code>datafile</code> passed to <code><a href="../reference/graph.abundmodel.html">graph.abundmodel()</a></code> may be deprecated because it uses <code>attach()</code> (see <em>Good practice</em> in <code>?attach</code>). The function documentation now includes a warning.</li>
</ul>
</div>
<div id="to-keep-in-mind-but-disregard-for-now" class="section level3">
<h3 class="hasAnchor">
<a href="#to-keep-in-mind-but-disregard-for-now" class="anchor"></a>To keep in mind, but disregard for now</h3>
<ul>
<li>R CMD check throws one additional warning that I disregard for now:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">'qpdf'</span> is needed <span class="cf">for</span> checks on size reduction of PDFs</code></pre></div>
<blockquote>
<p>I think this error is related to a glitch in R CMD check</p>
</blockquote>
<p><a href="https://github.com/krlmlr/r-appveyor/issues/24" class="uri">https://github.com/krlmlr/r-appveyor/issues/24</a></p>
<blockquote>
<p>…a package that has an HTML vignette (but no PDF vignette) failed R CMD check –as-cran … I think the warning originates … due to a premature check for the existence of qpdf</p>
</blockquote>
<p><a href="https://stat.ethz.ch/pipermail/r-devel/2015-October/071917.html" class="uri">https://stat.ethz.ch/pipermail/r-devel/2015-October/071917.html</a></p>
</div>
</div>
    <div id="ctfs-0-0-0-9004" class="section level1">
<h1 class="hasAnchor">
<a href="#ctfs-0-0-0-9004" class="anchor"></a>ctfs 0.0.0.9004</h1>
<ul>
<li><p>Document process to build package in <code>data-raw/src2doc_make_step1.R</code> and <code>...step2.R</code></p></li>
<li><p>Solve most important warnings during package checks. Most notably, amend NAMESPACE after documenting with roxygen. Because function names use the format function.name, roxygen exports some functions as S3 methods. This is a problem that arises during package checks. Now, this is solved by amending NAMESPACE, but later versions should replace “.” by “_" in function names.</p></li>
<li><p>Combine roxygen documentation and source code into a single file</p></li>
<li><p>Import package date, stated as a dependency on original CTFS documentation</p></li>
<li><p>In a vignette, report complexity of ctfs and compare with other complex and simple packages.</p></li>
<li><p>Create and document data object month names that is presumably crucial.</p></li>
</ul>
</div>
    <div id="ctfs-0-0-0-9003" class="section level1">
<h1 class="hasAnchor">
<a href="#ctfs-0-0-0-9003" class="anchor"></a>ctfs 0.0.0.9003</h1>
<ul>
<li><p>Tidy up roxygen documentation. Now empty lines span 2 lines or less.</p></li>
<li><p>Accept R markdown in roxygen documentation. This allows lists to display nicely.</p></li>
<li><p>Solve warnings that result from empty descriptions.</p></li>
</ul>
</div>
    <div id="ctfs-0-0-0-9002" class="section level1">
<h1 class="hasAnchor">
<a href="#ctfs-0-0-0-9002" class="anchor"></a>ctfs 0.0.0.9002</h1>
<ul>
<li>Solve warnings listed in ctfs 0.0.0.9001. Some warnings remain, but to solve those, we need to improve the documentation (not simply reformat available documentation), for example:</li>
</ul>
<pre><code>Warning: found non-ASCII strings

Undocumented arguments in documentation object 'AGB.dbtable'
  'df' 'dbname' 'plot' 'code' 'censusno'

checkRd: (5) bad.binsdpar.Rd:0-12: Must have a \description</code></pre>
</div>
    <div id="ctfs-0-0-0-9001" class="section level1">
<h1 class="hasAnchor">
<a href="#ctfs-0-0-0-9001" class="anchor"></a>ctfs 0.0.0.9001</h1>
<ul>
<li><p>Document function names. (Source code was removed to bypass checks that fail and block the package from building). Help files are now available with <code>?&lt;FUNCTION_NAME&gt;</code>, <code>help(&lt;FUNCTION_NAME&gt;)</code> or online at <a href="https://forestgeo.github.io/ctfs/" class="uri">https://forestgeo.github.io/ctfs/</a>.</p></li>
<li><p>I still need to solve multiple warnings</p></li>
</ul>
<pre><code>Warning: @param [spatial_RipUvK.R#28]: mismatched braces or quotes
Warning: @author [spatial_block.analysis.R#13]: mismatched braces or quotes
Warning: @examples [spatial_block.analysis.R#69]: mismatched braces or quotes
Warning: @examples [spatial_quadfunc.R#353]: mismatched braces or quotes
Warning: @examples [topography_slope.R#65]: mismatched braces or quotes
Warning: @examples [topography_slope.R#169]: mismatched braces or quotes
Warning: @examples [topography_slope.R#218]: mismatched braces or quotes
Warning: @examples [topography_solvetopo.R#59]: mismatched braces or quotes
Warning: @examples [utilities_distributions.R#72]: mismatched braces or quotes
Warning: @examples [utilities_distributions.R#395]: mismatched braces or quotes
Warning: @examples [utilities_distributions.R#1364]: mismatched braces or quotes
Warning: @description [utilities_geometry.R#218]: mismatched braces or quotes
Warning: @description [utilities_geometry.R#334]: mismatched braces or quotes
Warning: @examples [utilities_lmerBayes.R#193]: mismatched braces or quotes
Warning: @examples [utilities_statistics.R#258]: mismatched braces or quotes
Warning: @examples [utilities_statistics.R#368]: mismatched braces or quotes
Warning: @examples [utilities_statistics.R#538]: mismatched braces or quotes
Warning: @examples [utilities_statistics.R#578]: mismatched braces or quotes
Warning: @examples [utilities_statistics.R#611]: mismatched braces or quotes
Warning: @description [utilities_utilities.R#667]: mismatched braces or quotes
Warning: @examples [utilities_utilitiesCTFS.R#24]: mismatched braces or quotes
Warning: @examples [utilities_utilitiesCTFS.R#96]: mismatched braces or quotes
Warning: utilities_utilities.R:30: Section title spans multiple lines:</code></pre>
</div>
    </div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#forestr-0-0-0-9000">0.0.0.9000</a></li>
        <li><a href="#ctfs-0-0-0-9005">0.0.0.9005</a></li>
        <li><a href="#ctfs-0-0-0-9004">0.0.0.9004</a></li>
        <li><a href="#ctfs-0-0-0-9003">0.0.0.9003</a></li>
        <li><a href="#ctfs-0-0-0-9002">0.0.0.9002</a></li>
        <li><a href="#ctfs-0-0-0-9001">0.0.0.9001</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Condit, Pamela Hall, Suzanne Lao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
