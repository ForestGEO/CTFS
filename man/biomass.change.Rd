% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/biomass.CTFSdb.R
\name{biomass.change}
\alias{biomass.change}
\title{Finds biomass in two censuses and change between them.}
\usage{
biomass.change(census1, census2, alivecode = c("A"), mindbh = NULL,
  split1 = NULL, split2 = NULL)
}
\arguments{
\item{census1}{The R Analytical Table for a single census, either tree or
stem.}

\item{census2}{The matching R Analytical Table for a later census.}

\item{alivecode}{character, codes of the variable \code{status} that indicate the
tree is alive. The default 'A' is the standard CTFS designation for living
trees or stems}

\item{mindbh}{The minimum diameter above which the counts are done. Trees
smaller than `mindbh` are excluded. If `NULL`, all living trees are
included.}

\item{split1}{a vector of categories, one per individual}

\item{split2}{another vector of categories, one per individual}
}
\value{
A list with 6 components:
\itemize{
\item N.1: Total biomass in first census submitted
\item N.2: Total biomass in second census submitted
\item date1: Mean date in first census
\item date2: Mean date in second census
\item interval: The mean census interval in years
\item little.r: The rate of biomass change, or (log(N.2) - log(N.1))/interval
}
}
\description{
Finds biomass in two censuses and change between them. The submitted
dataframes are exactly the standard CTFS R Analytical tables, with a column
for biomass (agb) already calculated. Each dataframe has a record for every
tree in a single census (or a stem table can be passed, with one record for
each stem). Biomass for all living trees is summed over whatever grouping
variables are submitted (split1 and split2) in both censuses, along with the
annual rate of change in each category.
}
\details{
Based closely on the function \code{\link[=pop.change]{pop.change()}} in abundance.r, and differs only
in taking sum of agb instead of counting individuals.

If no split variables are submitted (split1 = split2 = NULL), each component
of the returned list is a single number, for the entire plot. If split1 is
submitted but not split2, each component is a vector, one value for each
category of split. If both splits are submitted, each component of the list
is a matrix.
}
\examples{
\dontrun{

CTFSplot("bci", "full", census = c(3, 7))

deltaAGB = biomass.change(bci.full3, bci.full7)

deltaAGB.spp = biomass.change(bci.full3, bci.full7, split1 = bci.full3$sp)

deltaAGB.table = assemble.demography(deltaAGB.spp, type = "a") 

rate = deltaAGB.table$little.r

hist(rate, breaks = 50)

summary(rate[is.finite(rate)])

subset(deltaAGB.table, is.infinite(rate))
}


}
